(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{DGAg:function(t,a,i){var o=i("LboF"),n=i("qlzw");"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[t.i,n,""]]);var s={insert:"head",singleton:!1};o(n,s);t.exports=n.locals||{}},EZuM:function(t,a,i){"use strict";i("rB9j"),i("UxlC"),i("TWNs"),i("JfAA");a.a={parseDomainFromUserInfo:function(t,a){var i={extraStandartDomain:"*."+t+"/"+a.username,customSubdomain:"*."+t,customDomain:"*"};if(a.defaultDomain){if(a.initSubdomain&&a.defaultDomain===a.initSubdomain+"."+t)return"extraStandartDomain";for(var o in i){var n=i[o];if(n=n.replace("*","[^]+"),new RegExp(n).test(a.defaultDomain))return o}}}}},dhWl:function(t,a,i){"use strict";i.r(a);i("4mDm"),i("3bBZ");var o=function(){var t,a=this,i=a._self._c;return i("div",[i("div",{staticClass:"form-title"},[i("h2",[a._v(a._s(a.$t("accountSettings.domainSettings.configTitle")))])]),a._v(" "),i("div",{staticClass:"domain-choice-list view-type"},[i("div",{staticClass:"domain-item",class:{selected:"extraStandartDomain"===a.defaultDomainOption}},[i("div",{staticClass:"domain-item-header"},[a._v("\n\t\t\t\t"+a._s(a.$t("packageQuotas.extraStandartDomain.title"))+"\n\t\t\t\t"),"extraStandartDomain"===a.defaultDomainOption?i("span",{staticClass:"default-tag"},[a._v(a._s(a.$t("default")))]):a._e(),a._v(" "),"default"===a.extraStandartDomainStatus?i("i-button",{staticClass:"edit-button",attrs:{prependIcon:a.extraStandartDomainAction.icon,regular:""},on:{click:a.extraStandartDomainAction.action}}):a._e()],1),a._v(" "),"default"!==a.extraStandartDomainStatus?[i("div",{staticClass:"domain-item-body row"},[i("i-select",{ref:"preferSubdomain",attrs:{items:a.listPreferSubdomains,value:a.preferSubdomain,contains:"","option-text":"value","option-value":"value"},on:{input:a.onChangePreferSubdomain},scopedSlots:a._u([{key:"default",fn:function(t){return[i("span",[a._v(a._s(t.item.value))]),a._v(" "),t.item.isPaid&&!a.availableQuotas.extraStandartDomain?i("span",{staticClass:"paid"},[a._v(a._s(a.$t("paid")))]):a._e()]}}],null,!1,1529594107)}),a._v(" "),i("span",{staticClass:"other-text"},[a._v("."+a._s(a.mainBaseHostName)),a.isSelectedInitSubdomain?i("span",[a._v("/"+a._s(a.$root.user.info.username))]):a._e(),i("span",{staticClass:"form-url-name"},[a._v("/"+a._s(a.formUrl))])])],1),a._v(" "),"extraStandartDomain"!==a.defaultDomainOption?i("div",{staticClass:"domain-item-body row"},[i("div",{staticClass:"editable-wrapper"},[i("i-checkbox",{attrs:{label:a.$t("accountSettings.domainSettings.setAsDefault")},model:{value:a.defaultDomainCheckbox.extraStandartDomain,callback:function(t){a.$set(a.defaultDomainCheckbox,"extraStandartDomain",t)},expression:"defaultDomainCheckbox.extraStandartDomain"}})],1)]):a._e(),a._v(" "),i("div",{staticClass:"domain-item-body row"},[i("i-button",{attrs:{disabled:a.$root.user.info.preferSubdomain===a.preferSubdomain&&!a.defaultDomainCheckbox.extraStandartDomain,loading:a.extraStandartDomainAction.loading},on:{click:a.extraStandartDomainAction.action}},[a._v(a._s(a.$t("save")))]),a._v(" "),i("i-button",{staticClass:"cancel",on:{click:function(t){return a.onCancel("extraStandartDomain")}}},[a._v("\n\t\t\t\t\t\t"+a._s(a.$t("cancel"))+"\n\t\t\t\t\t")])],1)]:[i("div",{staticClass:"domain-item-body row"},[i("b",{staticClass:"domain-edit"},[a._v(a._s(a.$root.user.info.preferSubdomain))]),i("span",[a._v("."+a._s(a.mainBaseHostName)),a.isSelectedInitSubdomain?i("span",[a._v("/"+a._s(a.$root.user.info.username))]):a._e(),i("span",{staticClass:"form-url-name"},[a._v("/"+a._s(a.formUrl))])])])]],2),a._v(" "),i("div",{staticClass:"domain-item",class:{selected:"customSubdomain"===a.defaultDomainOption}},[i("div",{staticClass:"domain-item-header"},[a._v("\n\t\t\t\t"+a._s(a.$t("packageQuotas.customSubdomain.title"))+"\n\t\t\t\t"),"customSubdomain"===a.defaultDomainOption?i("span",{staticClass:"default-tag"},[a._v(a._s(a.$t("default")))]):a._e(),a._v(" "),a.availableQuotas.customSubdomain?a._e():i("span",{staticClass:"paid"},[a._v(a._s(a.$t("paid")))]),a._v(" "),"default"===a.customSubdomainStatus?i("i-button",{attrs:{prependIcon:a.customSubdomainAction.icon,regular:""},on:{click:a.customSubdomainAction.action}}):a._e()],1),a._v(" "),"default"!==a.customSubdomainStatus?[a.availableQuotas.customSubdomain?i("div",{staticClass:"domain-item-body row"},[i("div",{staticClass:"editable-wrapper"},[i("i-text",{ref:"customSubdomain",attrs:{rules:[...a.requiredInputRule,...a.minCustomSubdomainRule]},model:{value:a.customSubdomain,callback:function(t){a.customSubdomain=t},expression:"customSubdomain"}}),a._v(" "),i("div",{staticClass:"remove-domain",on:{click:a.deleteCustomSubdomain}},[i("i-icon",{attrs:{icon:"times"}})],1)],1),a._v(" "),i("span",{staticClass:"other-text"},[a._v("."+a._s(a.mainBaseHostName)),i("span",{staticClass:"form-url-name"},[a._v("/"+a._s(a.formUrl))])])]):a._e(),a._v(" "),"customSubdomain"!==a.defaultDomainOption?i("div",{staticClass:"domain-item-body row"},[i("div",{staticClass:"editable-wrapper"},[i("i-checkbox",{attrs:{label:a.$t("accountSettings.domainSettings.setAsDefault")},model:{value:a.defaultDomainCheckbox.customSubdomain,callback:function(t){a.$set(a.defaultDomainCheckbox,"customSubdomain",t)},expression:"defaultDomainCheckbox.customSubdomain"}})],1)]):a._e(),a._v(" "),i("div",{staticClass:"dns-info"},[a.customSubdomainAction.errorText?i("i-alert",{attrs:{type:"error"}},[a._v("\n\t\t\t\t\t\t"+a._s(a.customSubdomainAction.errorText)+"\n\t\t\t\t\t")]):a._e()],1),a._v(" "),i("div",{staticClass:"domain-item-body row"},[i("i-button",{attrs:{disabled:!(a.lastCustomSubdomain||a.customSubdomain)||a.lastCustomSubdomain===a.customSubdomain&&!a.defaultDomainCheckbox.customSubdomain,loading:a.customSubdomainAction.loading},on:{click:a.customSubdomainAction.action}},[a._v(a._s(a.$t("save")))]),a._v(" "),i("i-button",{staticClass:"cancel",on:{click:function(t){return a.onCancel("customSubdomain")}}},[a._v("\n\t\t\t\t\t\t"+a._s(a.$t("cancel"))+"\n\t\t\t\t\t")])],1)]:a.lastCustomSubdomain?[i("div",{staticClass:"domain-item-body row"},[i("b",{staticClass:"domain-edit"},[a._v(a._s(a.lastCustomSubdomain))]),i("span",[a._v("."+a._s(a.mainBaseHostName)),i("span",{staticClass:"form-url-name"},[a._v("/"+a._s(a.formUrl))])])])]:a._e()],2),a._v(" "),i("div",{staticClass:"domain-item",class:{selected:"customDomain"===a.defaultDomainOption}},[i("div",{staticClass:"domain-item-header"},[a._v("\n\t\t\t\t"+a._s(a.$t("packageQuotas.customDomain.title"))+"\n\t\t\t\t"),"customDomain"===a.defaultDomainOption?i("span",{staticClass:"default-tag"},[a._v(a._s(a.$t("default")))]):a._e(),a._v(" "),a.availableQuotas.customDomain?a._e():i("span",{staticClass:"paid"},[a._v(a._s(a.$t("paid")))]),a._v(" "),"default"===a.customDomainStatus?i("i-button",{attrs:{prependIcon:a.customDomainAction.icon,regular:"",disabled:a.refreshingDomainVerification},on:{click:a.customDomainAction.action}}):a._e()],1),a._v(" "),"default"!==a.customDomainStatus?[a.availableQuotas.customDomain?i("div",{staticClass:"domain-item-body row"},[i("div",{staticClass:"editable-wrapper"},[i("div",[i("label",{staticClass:"label"},[a._v(a._s(a.$t("accountSettings.domainSettings.subDomain")))]),a._v(" "),i("i-text",{ref:"customDomainSub",staticClass:"custom-domain-sub",attrs:{placeholder:"form",rules:a.requiredInputRule},on:{input:a.subDomainChange},model:{value:a.customDomain.subdomain,callback:function(t){a.$set(a.customDomain,"subdomain",t)},expression:"customDomain.subdomain"}})],1),a._v(" "),i("span",{staticClass:"dot"},[a._v(".")]),a._v(" "),i("div",[i("label",{staticClass:"label"},[a._v(a._s(a.$t("accountSettings.domainSettings.rootDomain")))]),a._v(" "),i("i-text",{ref:"customDomainMain",staticClass:"custom-domain",attrs:{placeholder:"example.com",rules:a.requiredInputRule},on:{blur:a.onBlurMainDomain},model:{value:a.customDomain.maindomain,callback:function(t){a.$set(a.customDomain,"maindomain",t)},expression:"customDomain.maindomain"}})],1),a._v(" "),i("div",{staticClass:"remove-domain",on:{click:a.deleteCustomDomain}},[i("i-icon",{attrs:{icon:"times"}})],1)]),a._v(" "),i("div",[i("span",{staticClass:"other-text"},[i("span",{staticClass:"form-url-name"},[a._v("/"+a._s(a.formUrl))])])])]):a._e(),a._v(" "),a.availableQuotas.customDomain&&"customDomain"!==a.defaultDomainOption?i("div",{staticClass:"domain-item-body row"},[i("div",{staticClass:"editable-wrapper"},[i("i-checkbox",{attrs:{label:a.$t("accountSettings.domainSettings.setAsDefault")},model:{value:a.defaultDomainCheckbox.customDomain,callback:function(t){a.$set(a.defaultDomainCheckbox,"customDomain",t)},expression:"defaultDomainCheckbox.customDomain"}})],1)]):a._e(),a._v(" "),i("div",{staticClass:"dns-info error-domain"},[a.customDomainAction.errorText?i("i-alert",{attrs:{type:"error"}},[a._v("\n\t\t\t\t\t\t"+a._s(a.customDomainAction.errorText)+"\n\t\t\t\t\t")]):a._e()],1),a._v(" "),i("div",{staticClass:"domain-item-body row"},[i("i-button",{attrs:{disabled:!(a.lastCustomDomain.maindomain||a.customDomain.maindomain)||a.lastCustomDomain.subdomain===a.customDomain.subdomain&&a.lastCustomDomain.maindomain===a.customDomain.maindomain&&!a.defaultDomainCheckbox.customDomain,loading:a.customDomainAction.loading},on:{click:a.customDomainAction.action}},[a._v(a._s(a.$t("save")))]),a._v(" "),i("i-button",{staticClass:"cancel",attrs:{disabled:a.customDomainAction.loading},on:{click:function(t){return a.onCancel("customDomain")}}},[a._v("\n\t\t\t\t\t\t"+a._s(a.$t("cancel"))+"\n\t\t\t\t\t")])],1)]:a.lastCustomDomain.subdomain&&a.lastCustomDomain.maindomain?[i("div",{staticClass:"domain-item-body custom-domain",class:a.customDomain.status},[i("div",{staticClass:"row"},[i("span"),a._v(" "),i("b",{staticClass:"domain-edit"},[a._v(a._s(a.lastCustomDomain.subdomain)+"."+a._s(a.lastCustomDomain.maindomain))]),i("span",[i("span",{staticClass:"form-url-name"},[a._v("/"+a._s(a.formUrl))])]),a._v(" "),"active"!==a.customDomain.status?i("i-button",{attrs:{prependIcon:"arrows-rotate",naked:"",loading:a.refreshingDomainVerification},on:{click:a.refreshDomainVerification}},[a._v(a._s(a.$t("refresh")))]):a._e()],1),a._v(" "),a.customDomain.status?i("p",[a._v(a._s(a.$t("accountSettings.domainSettings.dnsInfo.status."+a.customDomain.status)))]):a._e()])]:a._e(),a._v(" "),a.availableQuotas.customDomain&&a.customDomain.subdomain&&a.customDomain.maindomain&&(null===(t=a.customDomain.settings)||void 0===t?void 0:t.length)>0?i("div",{staticClass:"domain-item-body row"},[i("div",{staticClass:"dns-info"},[i("i-alert",{attrs:{type:"warning"}},[i("div",[a._v("\n\t\t\t\t\t\t\t"+a._s(a.$t("accountSettings.domainSettings.dnsInfo.mainText.line1"))),i("br"),a._v(" "),i("i",[a._v(a._s(a.$t("accountSettings.domainSettings.dnsInfo.mainText.line2")))]),i("br")])]),a._v(" "),i("IDataTable2",{ref:"customDomainSettingsTable",attrs:{headers:a.customDomainSettingsHeader,data:a.customDomain.settings,hideFooter:""}})],1)]):a._e(),a._v(" "),"default"!==a.customDomainStatus?i("div",{staticClass:"how-to-add"},[i("a",{staticClass:"how-to-add-btn",attrs:{href:"https://forms.app/en/help-center/how-to-use-a-custom-domain-for-your-form-url",target:"_blank"}},[i("i-icon",{attrs:{icon:"life-ring"}}),a._v(" "+a._s(a.$t("accountSettings.domainSettings.howToAdd"))+"\n\t\t\t\t")],1)]):a._e()],2)])])};o._withStripped=!0;var n=i("lSNA"),s=i.n(n),e=i("yXPU"),m=i.n(e),u=(i("rB9j"),i("UxlC"),i("NRfZ")),r=i("NcpN"),c=i("mSNy"),d=i("ttAG"),l=i("EZuM"),h=i("7JmQ"),f=i("CMeD");function D(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function b(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?D(Object(i),!0).forEach((function(a){s()(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):D(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}var S,p,v,_,g,C,x={name:"DomainSettings",props:{formUrl:{type:String,default:c.default.t("sampleFormUrl")}},components:{IDataTable2:h.a},data:function(){var t={type:{text:this.$t("accountSettings.domainSettings.dnsInfo.type")},name:{text:this.$t("accountSettings.domainSettings.dnsInfo.name"),component:f.a,margin:"1em",props:{url:"name",hideText:!0,showUrl:!0}},value:{text:this.$t("accountSettings.domainSettings.dnsInfo.value"),component:f.a,margin:"1em",props:{url:"value",hideText:!0,showUrl:!0}}};return{mainBaseHostName:u.a.mainBaseHostName,defaultDomain:null,lastDefaultDomainOption:null,defaultDomainOption:null,preferSubdomain:"",customSubdomain:"",customDomain:{subdomain:"",maindomain:"",status:"",settings:[]},listPreferSubdomains:u.a.listPreferSubdomains.map(t=>({value:t,isPaid:!0})),customSubdomainStatus:"default",customDomainStatus:"default",extraStandartDomainStatus:"default",upgradePopup:{},defaultDomainCheckbox:{extraStandartDomain:!1,customSubdomain:!1,customDomain:!1},lastCustomSubdomain:"",lastCustomDomain:{subdomain:"",maindomain:""},customDomainSettingsHeader:t,refreshingDomainVerification:!1}},mounted:(C=m()((function*(){this.defaultDomainOption=null,this.lastDefaultDomainOption=null,this.$root.setUser(t=>{this.preferSubdomain=t.info.preferSubdomain||u.a.preferSubdomain,this.setDefaultDomainOption(),t.info.initSubdomain&&this.listPreferSubdomains.unshift({value:t.info.initSubdomain})});var t=yield r.a.getCustomDomains();for(var a of t)a.maindomain===this.mainBaseHostName?(this.customSubdomain=a.subdomain,this.lastCustomSubdomain=a.subdomain+""):(this.customDomain.subdomain=a.subdomain,this.customDomain.maindomain=a.maindomain,this.customDomain.settings=a.settings,this.customDomain.status=a.status,this.lastCustomDomain={subdomain:a.subdomain,maindomain:a.maindomain})})),function(){return C.apply(this,arguments)}),methods:{onBlurMainDomain:function(){0===this.customDomain.maindomain.indexOf("www.")&&(this.customDomain.maindomain=this.customDomain.maindomain.replace("www.",""))},onCancel:function(t){this[t+"Status"]="default"},onChangePreferSubdomain:function(t){if(this.listPreferSubdomains.find(a=>a.value===t).isPaid&&!this.checkQuota("extraStandartDomain"))return this.$refs.preferSubdomain.setValue(),void this.$eventTrigger.fireFormsappAnalyticsEvent({category:"domain",action:"domain_options_quota",label:t});this.preferSubdomain=t},saveExtraStandartDomain:(g=m()((function*(){if(this.$root.user.info.preferSubdomain===this.preferSubdomain)return this.extraStandartDomainStatus="loading",this.defaultDomainCheckbox.extraStandartDomain&&(yield this.saveDefaultDomain("extraStandartDomain")),void(this.extraStandartDomainStatus="default");var t="extraStandartDomain"===this.defaultDomainOption||this.defaultDomainCheckbox.extraStandartDomain;this.extraStandartDomainStatus="loading",r.a.savePreferSubdomain({subdomain:this.preferSubdomain,saveAsDefault:t}).then(a=>403===a.status?(this.openUpgradePopup(),!1):(t&&this.setDefaultDomain("extraStandartDomain"),this.extraStandartDomainStatus="default",this.$eventTrigger.fireFormsappAnalyticsEvent({eventName:"user",source:this.routeName,action:"domain_options",method:this.preferSubdomain}),this.$root.user.info.preferSubdomain=this.preferSubdomain,!0))})),function(){return g.apply(this,arguments)}),saveCustomSubdomain:(_=m()((function*(){if(this.lastCustomSubdomain===this.customSubdomain)return this.customSubdomainStatus="loading",this.defaultDomainCheckbox.customSubdomain&&(yield this.saveDefaultDomain("customSubdomain")),void(this.customSubdomainStatus="default");if(this.$refs.customSubdomain.validate()){var t="customSubdomain"===this.defaultDomainOption||this.defaultDomainCheckbox.customSubdomain;this.customSubdomain=this.customSubdomain.toLowerCase();var a={subdomain:this.customSubdomain,maindomain:this.mainBaseHostName,saveAsDefault:t};this.customSubdomain.split(".").length>1?this.customSubdomainStatus=this.$t("errorEnums.invalidUrl"):this.checkValidUrl(a)?(this.customSubdomainStatus="loading",r.a.saveCustomDomain(a).then(a=>{if(403===a.status)return this.openUpgradePopup();400===a.status?this.customSubdomainStatus=this.$t("errorEnums.domainInUse"):(t&&this.setDefaultDomain("customSubdomain"),this.allUncheckDefaultDomain(),this.customSubdomainStatus="default",this.lastCustomSubdomain=this.customSubdomain+"",this.$eventTrigger.fireFormsappAnalyticsEvent({eventName:"user",source:this.routeName,action:"custom_subdomain",method:this.customSubdomain}))})):this.customSubdomainStatus=this.$t("errorEnums.invalidUrl")}})),function(){return _.apply(this,arguments)}),saveCustomDomain:(v=m()((function*(){if(this.lastCustomDomain.subdomain===this.customDomain.subdomain&&this.lastCustomDomain.maindomain===this.customDomain.maindomain)return this.customDomainStatus="loading",this.defaultDomainCheckbox.customDomain&&(yield this.saveDefaultDomain("customDomain")),void(this.customDomainStatus="default");if(this.$refs.customDomainSub.validate()&&this.$refs.customDomainMain.validate()){var t="customDomain"===this.defaultDomainOption||this.defaultDomainCheckbox.customDomain;this.customDomain.subdomain=this.customDomain.subdomain.toLowerCase(),this.customDomain.maindomain=this.customDomain.maindomain.toLowerCase();var a={subdomain:this.customDomain.subdomain,maindomain:this.customDomain.maindomain,saveAsDefault:t};this.checkValidUrl(a)?(this.customDomainStatus="loading",r.a.saveCustomDomain(a).then(a=>{if(403===a.status)return this.openUpgradePopup();400===a.status?a.data&&"207"===a.data.errorCode?this.customDomainStatus=this.$t("errorEnums.domainInUse"):this.customDomainStatus=this.$t("popups.oopsPopup.text"):(t&&this.setDefaultDomain("customDomain"),this.customDomain.settings=a.data.settings,this.customDomain.status=a.data.status,this.allUncheckDefaultDomain(),this.customDomainStatus="default",this.lastCustomDomain={subdomain:this.customDomain.subdomain,maindomain:this.customDomain.maindomain},this.$eventTrigger.fireFormsappAnalyticsEvent({eventName:"user",source:this.routeName,action:"custom_domain",method:this.customDomain.maindomain}),this.$refs.customDomainSettingsTable&&this.$refs.customDomainSettingsTable.getItems(this.customDomain.settings))})):this.customDomainStatus=this.$t("accountSettings.domainSettings.invalidUrl")}})),function(){return v.apply(this,arguments)}),setDefaultDomain:function(t){var a=this[t+"Data"];this.defaultDomainOption=t,this.lastDefaultDomainOption=t+"",this.$set(this.$root.user.info,"defaultDomain",a.defaultDomain),this.$root.ownerInfo&&this.$set(this.$root.ownerInfo,"defaultDomain",a.defaultDomain),this.$emit("changeDefaultDomain",a.defaultDomain)},saveDefaultDomain:(p=m()((function*(t){var a=this[t+"Data"];yield r.a.saveDefaultDomain(a.domain),this.setDefaultDomain(t),this.allUncheckDefaultDomain()})),function(t){return p.apply(this,arguments)}),allUncheckDefaultDomain:function(){for(var t in this.defaultDomainCheckbox)this.defaultDomainCheckbox[t]=!1},deleteCustomDomain:function(){this.lastCustomDomain.maindomain&&this.$swal({title:this.$t("areYouSure"),text:this.$t("accountSettings.domainSettings.deleteText"),icon:"warning",showCancelButton:!0,cancelButtonText:this.$t("cancel"),confirmButtonText:this.$t("yes")}).then(t=>{t.value&&r.a.deleteCustomDomain({fulldomain:this.customDomainData.lastDomain}).then(t=>{200===t.status&&(this.customDomain.subdomain="",this.customDomain.maindomain="",this.lastCustomDomain.subdomain="",this.lastCustomDomain.maindomain="",this.onCancel("customDomain"),t.data.asDefaultDomain&&(this.defaultDomainOption="extraStandartDomain"))})})},deleteCustomSubdomain:function(){this.lastCustomSubdomain&&this.$swal({title:this.$t("areYouSure"),text:this.$t("accountSettings.domainSettings.deleteText"),icon:"warning",showCancelButton:!0,cancelButtonText:this.$t("cancel"),confirmButtonText:this.$t("yes")}).then(t=>{t.value&&r.a.deleteCustomDomain({fulldomain:this.customSubdomainData.lastDomain}).then(t=>{200===t.status&&(this.customSubdomain="",this.lastCustomSubdomain="",this.onCancel("customSubdomain"),t.data.asDefaultDomain&&(this.defaultDomainOption="extraStandartDomain"))})})},checkQuota:function(t){if(!this.$auth.isAuthenticated())return this.$swal({title:this.$t("popups.mustLogin.title"),text:this.$t("popups.mustLogin.text"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("login"),cancelButtonText:this.$t("cancel"),confirmButtonColor:this.$theme.blue}).then((function(t){t.value&&(window.location="/auth/signup")})),!1;var a={extraStandartDomain:{quota:0,eventName:"extra_standart_domain",popupInfo:this.$t("accountSettings.domainSettings.upgradePlan.extraStandartDomain"),options:[{icon:"check",quota:1},{icon:"check",quota:2},{icon:"check",quota:3}]},customSubdomain:{quota:1,eventName:"custom_subdomain",popupInfo:this.$t("accountSettings.domainSettings.upgradePlan.customSubdomain"),options:[{icon:"times",quota:1},{icon:"check",quota:2},{icon:"check",quota:3}]},customDomain:{quota:2,eventName:"custom_domain",popupInfo:this.$t("accountSettings.domainSettings.upgradePlan.customDomain"),options:[{icon:"times",quota:1},{icon:"times",quota:2},{icon:"check",quota:3}]}};return!!this.availableQuotas[t]||(this.$set(this,"upgradePopup",a[t]),this.$nextTick(()=>{this.openUpgradePopup()}),!1)},setDefaultDomainOption:function(){var t=l.a.parseDomainFromUserInfo(this.mainBaseHostName,this.$root.user.info);t&&(this.defaultDomainOption=t,this.lastDefaultDomainOption=t)},checkValidUrl:function(t){var a=t.subdomain+"."+t.maindomain;return!(a.split(".").length<3)&&d.default.isUrl(a)},openUpgradePopup:function(){this.$root.upgradePopup("domain",{text:this.upgradePopup.popupInfo,currentQuota:this.currentQuota,upgradeOptions:this.upgradePopup.options,eventName:this.upgradePopup.eventName})},refreshDomainVerification:(S=m()((function*(){this.refreshingDomainVerification=!0;var t=yield r.a.refreshDomainVerification();t&&(this.customDomain=t),this.refreshingDomainVerification=!1})),function(){return S.apply(this,arguments)}),subDomainChange:function(){"www"===this.customDomain.subdomain&&this.$swal({icon:"info",type:"info",title:this.$t("accountSettings.domainSettings.alertTitle"),text:this.$t("accountSettings.domainSettings.alertText"),confirmButtonColor:this.$theme.blue,confirmButtonText:this.$t("accountSettings.domainSettings.alertBtnText"),showCancelButton:!0,cancelButtonText:this.$t("cancel")}).then(t=>{t.isDismissed&&(this.customDomain.subdomain="")})}},computed:{extraStandartDomainData:function(){var t=this.preferSubdomain+"."+this.mainBaseHostName;return this.$root.user.info.initSubdomain!==this.preferSubdomain&&(t+="/"+this.$root.user.info.username),{defaultDomain:t,domain:this.mainBaseHostName}},customSubdomainData:function(){return{defaultDomain:this.customSubdomain+"."+this.mainBaseHostName,domain:this.customSubdomain+"."+this.mainBaseHostName,lastDomain:this.lastCustomSubdomain+"."+this.mainBaseHostName}},customDomainData:function(){return{defaultDomain:this.customDomain.subdomain+"."+this.customDomain.maindomain,domain:this.customDomain.subdomain+"."+this.customDomain.maindomain,lastDomain:this.lastCustomDomain.subdomain+"."+this.lastCustomDomain.maindomain}},extraStandartDomainAction:function(){var t={default:{icon:"pen",action:()=>{this.checkQuota("standartDomain")&&(this.extraStandartDomainStatus="edit",this.customSubdomainStatus="default",this.customDomainStatus="default")}},edit:{icon:"check",action:this.saveExtraStandartDomain},loading:{icon:"",loading:!0,action:()=>{}}};return t.error=t.edit,t[this.extraStandartDomainStatus]},customSubdomainAction:function(){var t={default:{icon:"pen",action:()=>{this.checkQuota("customSubdomain")&&(this.extraStandartDomainStatus="default",this.customSubdomainStatus="edit",this.customDomainStatus="default",this.$nextTick(()=>{this.$refs.customSubdomain.focus()}))}},edit:{icon:"check",action:this.saveCustomSubdomain},loading:{icon:"",loading:!0,action:()=>{}}};return t.error=b({errorText:this.customSubdomainStatus||this.$t("errorEnums.domainInUse")},t.edit),t[this.customSubdomainStatus]||t.error},customDomainAction:function(){var t={default:{icon:"pen",action:()=>{this.checkQuota("customDomain")&&(this.extraStandartDomainStatus="default",this.customSubdomainStatus="default",this.customDomainStatus="edit",this.$nextTick(()=>{this.$refs.customDomainSub.focus()}))}},edit:{icon:"check",action:this.saveCustomDomain},loading:{icon:"",loading:!0,action:()=>{}}};return t.error=b({errorText:this.customDomainStatus||this.$t("errorEnums.domainInUse")},t.edit),t[this.customDomainStatus]||t.error},availableQuotas:function(){var t={extraStandartDomain:!1,customSubdomain:!1,customDomain:!1,standartDomain:!0};return this.$root.user.quotas&&(t={extraStandartDomain:this.$root.user.quotas.extraStandartDomain&&this.$root.user.quotas.extraStandartDomain.quota>=1,customSubdomain:this.$root.user.quotas.customSubdomain&&this.$root.user.quotas.customSubdomain.quota>=1,customDomain:this.$root.user.quotas.customDomain&&this.$root.user.quotas.customDomain.quota>=1,standartDomain:!0}),t},requiredInputRule:function(){var t=[];return t.push(t=>!!t||this.$t("errorEnums.fieldIsRequired")),t},minCustomSubdomainRule:function(){var t=[];return t.push(t=>t.length>3||this.$t("questionTypes.validationErrors.minLength",{min:4,field:this.$t("packageQuotas.customSubdomain.title")})),t},currentQuota:function(){var t=-1;for(var a in this.availableQuotas)this.availableQuotas[a]&&t++;return t},isSelectedInitSubdomain:function(){var t;return(null===(t=this.$root.user)||void 0===t||null===(t=t.info)||void 0===t?void 0:t.initSubdomain)!==this.preferSubdomain},routeName:function(){return"FormShare"===this.$route.name||"TeamFormShare"===this.$route.name?"form_share":"account_settings"}}},$=(i("h4C9"),i("KHd+")),k=Object($.a)(x,o,[],!1,null,"3c2dcc96",null);a.default=k.exports},h4C9:function(t,a,i){"use strict";i("DGAg")},qlzw:function(t,a,i){}}]);