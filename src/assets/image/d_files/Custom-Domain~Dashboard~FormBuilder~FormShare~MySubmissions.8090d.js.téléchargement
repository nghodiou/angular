(window.webpackJsonp=window.webpackJsonp||[]).push([[294],{"3J+k":function(t,e,n){var s=n("LboF"),i=n("imix");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var a={insert:"head",singleton:!1};s(i,a);t.exports=i.locals||{}},"7JmQ":function(t,e,n){"use strict";n("ToJy");var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-wrapper"},[t.title?e("h3",[t._v(t._s(t.title))]):t._e(),t._v(" "),t.loading?e("IPreloaderLinear"):t._e(),t._v(" "),t.loading||t.items.length>0?e("div",{staticClass:"table-container",class:{"has-title":!!t.title,loading:t.loading}},[e("div",[e("table",[e("tr",t._l(t.headers,(function(n,s){return e("th",{key:s,class:{sortable:n.sortable,"table-column-sticky":"actions"===s},style:{width:n.width,"padding-left":n.margin},on:{click:function(e){n.sortable&&t.sortColumn(n.sortable)}}},[t._v("\n\t\t\t\t\t\t"+t._s(n.text)+"\n\t\t\t\t\t\t"),n.sortable?e("i-icon",{attrs:{icon:"sort",solid:t.requestModel.sort.key===n.sortable}}):t._e()],1)})),0),t._v(" "),t._l(t.items,(function(n){return e("tr",{key:n._id},t._l(t.headers,(function(s,i){return e("td",{key:i,class:{"table-column-sticky":"actions"===i},style:{"padding-left":s.margin}},[s.component?e(s.component,t._b({tag:"component",on:{deleteItem:t.deleteItem}},"component",t.getBinds(s.props,n),!1)):e("span",[t._v(t._s(t.getValue(i,n)))])],1)})),0)}))],2)]),t._v(" "),t.hideFooter?t._e():e("div",{staticClass:"footer"},[e("i-dropdown",{staticClass:"page-count-dropdown",attrs:{activator:"#page-count-"+t.name}},[e("ul",t._l(t.pageSizeOptions,(function(n,s){return e("li",{key:s,on:{click:function(e){return t.changePageSize(n)}}},[e("span",[t._v(t._s(n)+" ")])])})),0)]),t._v(" "),e("div",{staticClass:"answer-list-footer"},[e("span",{staticClass:"page-count-dropdown-btn",attrs:{id:"page-count-"+t.name}},[t._v(t._s(t.requestModel.pageSize)+" "),e("i-icon",{attrs:{icon:"angle-down"}})],1),t._v(" "),e("div",{staticClass:"footer-right"},[e("div",[t._v("\n\t\t\t\t\t\t"+t._s(t.currentItemCountInfo)+"\n\t\t\t\t\t")]),t._v(" "),e("i-icon",{attrs:{icon:"chevron-left",disabled:0===t.requestModel.page},on:{click:function(e){return t.changePage(t.requestModel.page-1)}}}),t._v(" "),e("span",[t._v(t._s(t.currentPage))]),t._v(" "),e("i-icon",{attrs:{icon:"chevron-right",disabled:t.totalPage===t.currentPage},on:{click:function(e){return t.changePage(t.requestModel.page+1)}}})],1)])],1)]):e("div",{staticClass:"no-record"},[t._v("\n\t\t"+t._s(t.noRecordText)+"\n\t")])],1)};s._withStripped=!0;var i,a=n("yXPU"),o=n.n(a),r=n("rLda"),l=n("kdFr"),u={name:"IDataTable2",components:{IPreloaderLinear:r.a},props:{headers:Object,service:Function,data:Array,title:String,name:String,noRecordText:String,hideFooter:Boolean},data:function(){var t={page:0,pageSize:Number(l.a.getItem("table-"+this.name)||20),sort:{key:"",value:""}};for(var e in this.headers){var n=this.headers[e];n.sort&&(t.sort={key:n.sortable,value:n.sort})}return{requestModel:t,items:[],totalCount:0,pageSizeOptions:[10,20,50],loading:!0}},mounted:function(){this.getItems()},methods:{getItems:(i=o()((function*(t){if(t=t||this.data,this.loading=!0,this.service){var e=yield this.service(this.requestModel).then(t=>t.data).catch();this.items=e.result,this.totalCount=e.totalCount}else t&&(this.items=t,this.totalCount=t.length);this.loading=!1,this.$emit("data",this.items)})),function(t){return i.apply(this,arguments)}),sortColumn:function(t){this.requestModel.sort.key===t?this.requestModel.sort.value="ASC"===this.requestModel.sort.value?"DESC":"ASC":this.requestModel.sort.value="DESC",this.requestModel.sort.key=t,this.getItems()},search:function(t){this.requestModel.keyword!==t&&(this.requestModel.keyword=t,this.getItems())},changePageSize:function(t){this.requestModel.pageSize!==t&&(this.requestModel.pageSize=t,l.a.setItem("table-"+this.name,t),this.getItems())},changePage:function(t){this.requestModel.page!==t&&(this.requestModel.page=t,this.getItems())},getValue:function(t,e){var n=this.headers[t];return e=this.getValueFromData(e,(n.name||t).split(".")),n.setValue?n.setValue(e):e},getBinds:function(t,e){var n={};for(var s in t){var i=t[s];if("object"==typeof i){var a=void 0;i.name&&(a=this.getValueFromData(e,i.name.split("."))),n[s]=i.setValue(a)}else n[s]="string"==typeof i?this.getValueFromData(e,i.split(".")):i}return n},getValueFromData:function(t,e){var n=t;if(!n)return null;for(var s=0;s<e.length;s++){if(!n)return null;n=n[e[s]]}return n},deleteItem:function(t){this.items=this.items.filter(e=>e._id!==t),this.totalCount--}},computed:{totalPage:function(){return Math.ceil(this.totalCount/this.requestModel.pageSize)||1},currentPage:function(){return this.requestModel.page+1},currentItemCountInfo:function(){var t=this.requestModel.page*this.requestModel.pageSize+1,e=Math.min(t+this.requestModel.pageSize-1,this.totalCount);return"".concat(t,"-").concat(e," of ").concat(this.totalCount)}}},c=(n("PdZR"),n("KHd+")),d=Object(c.a)(u,s,[],!1,null,"17bda720",null);e.a=d.exports},PdZR:function(t,e,n){"use strict";n("3J+k")},imix:function(t,e,n){}}]);