(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{"2CL+":function(t,e,a){var i=a("LboF"),r=a("VUFS");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var n={insert:"head",singleton:!1};i(r,n);t.exports=r.locals||{}},"4QS4":function(t,e,a){"use strict";var i,r,n=a("yXPU"),s=a.n(n),o=(a("rB9j"),a("UxlC"),a("kdFr")),l=a("tL2h"),c=a("Mj6V"),p=a.n(c),u=a("luLf"),d=a("NRfZ"),m=a("jJw0");e.a={name:"CreateFormMixin",methods:{onAfterSuccessCreate:function(t,e){this.$root.setQuotaUsage(1,"formCount"),m.a.triggerFireEventsAfterSave({formModel:t});var a=o.a.getItem(d.a.willCreateFirstForm);if(a){var i=!0===a;if(!i)(new Date(a).getTime()-(new Date).getTime())/1e3<864e3&&(i=!0);i&&this.$eventTrigger.fireGoogleAnalyticsEvent("CreatedFirstForm"),o.a.removeItem(d.a.willCreateFirstForm)}},createRequest:(r=s()((function*(t){var e,a,i={};t?i.url=t.url:(i.getDummyFormData=!0,t=m.a.getDummyFormData("7px",this.$root.isDarkMode)),p.a.start(),document.body.classList.add("route-loading"),this.$route.query.ref?(e="plugin",a=this.$route.query.ref):t.withAI&&(a="ai",e=this.isAIPreview?"beforelogin":"afterlogin");var r=yield l.a.add(t,a,e);(yield this.logic(r))&&(!t.withAI&&i.getDummyFormData&&r&&r.data&&o.a.setItem("lastCreatedFormId",r.data._id),this.onAfterSuccessCreate(r.data))})),function(t){return r.apply(this,arguments)}),logic:(i=s()((function*(t){if(document.body.classList.remove("route-loading"),p.a.done(),this.$auth.isAuthenticated()){if("banned"===t.data)return this.$root.logout();if(400===t.status)return this.$swal({title:Object(u.a)("formbuilder."+t.data.error.errorCode),text:Object(u.a)("formbuilder."+t.data.fieldErrors.error.errorCode),icon:"error"}),!1;t=t.data}else t&&(t=t.data);if(t&&Object.keys(t).length>0){var e="/form";return this.folder&&(e+="/".concat(this.folder.ownerId,"/").concat(this.folder._id)),e+="/"+t._id+"/create",this.isAIPreview&&(e+="?aiq="+this.$route.query.aiq),this.$router.replace(e),!0}return this.$auth.isAuthenticated()?this.$root.upgradePopup("formCreate"):this.$swal({title:this.$t("popups.formCreateQuotaPopup.login.title"),text:this.$t("popups.formCreateQuotaPopup.beforeLogin.text"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("login"),cancelButtonText:this.$t("cancel"),confirmButtonColor:this.$theme.blue}).then(t=>{t.isConfirmed&&this.$router.push({name:"SignIn"})}),!1})),function(t){return i.apply(this,arguments)})}}},A1ZR:function(t,e,a){var i=a("LboF"),r=a("Y1o0");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var n={insert:"head",singleton:!1};i(r,n);t.exports=r.locals||{}},CkKj:function(t,e,a){var i={"./bagisKampanyasi.json":["vfJI",162],"./dogrudanTahsilat.json":["lObM",163],"./hizmetlerim.json":["Sith",164],"./konserBileti.json":["UJbH",165],"./magazam.json":["nat1",166],"./organikUrunlerim.json":["Anq2",167],"./rezervasyonFormu.json":["sPtT",168],"./siparisFormu.json":["tG3g",169]};function r(t){if(!a.o(i,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=i[t],r=e[0];return a.e(e[1]).then((function(){return a.t(r,3)}))}r.keys=function(){return Object.keys(i)},r.id="CkKj",t.exports=r},VUFS:function(t,e,a){},XzJh:function(t,e,a){var i=a("LboF"),r=a("f1Vy");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var n={insert:"head",singleton:!1};i(r,n);t.exports=r.locals||{}},Y1o0:function(t,e,a){},Y8s6:function(t,e,a){"use strict";a("mM9l")},ZzQt:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"layout-background"},[t.showLoader?e("i-preloader",{staticClass:"preloader",attrs:{center:""}}):t.openDetail?e("FormTemplateDetail",{attrs:{template:t.clickedTemplate,activeCategory:t.activeCategory},on:{useTemplate:t.useSelectedTemplate,aiBtnClicked:t.aiBtnClicked,createActions:t.createActions}}):e("div",{staticClass:"container"},[e("div",{staticClass:"form-template-wrapper"},[e("div",{staticClass:"categories-wrapper"},[e("div",{staticClass:"categories"},[e("ul",t._l(t.categories,(function(a,i){return a?e("li",{key:i,class:{active:t.activeCategory._id===a._id},on:{click:function(e){return t.getTemplateByCategory(a)}}},[t._v("\n\t\t\t\t\t\t\t"+t._s(a.title)+"\n\t\t\t\t\t\t")]):t._e()})),0)])]),t._v(" "),e("div",{staticClass:"form-template"},[e("div",{staticClass:"header-search"},[e("i-text",{staticClass:"search-text",attrs:{autocomplete:"off","prepend-icon":"search",placeholder:t.$t("discover.searchBy")},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchTemplate()},clickAppendIcon:function(e){return t.searchTemplate()}},model:{value:t.searchKeyword,callback:function(e){t.searchKeyword=e},expression:"searchKeyword"}})],1),t._v(" "),e("div",{staticClass:"template-content"},[t.templates?t._l(t.templates,(function(a,i){return e("div",{key:i,staticClass:"template-item",on:{click:function(e){return t.showTemplateDetail(a)}}},[a?[e("div",{staticClass:"template-item-icon",style:"background-image: url("+t.prepareTemplateImageUrl(a)+")"},[e("div",{staticClass:"template-preview-button"},[e("i-button",[t._v(t._s(t.$t("formTemplate.preview")))])],1)]),t._v(" "),a?e("h3",[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(a.title)+"\n\t\t\t\t\t\t\t\t")]):t._e()]:t._e()],2)})):t._e()],2),t._v(" "),!t.showLoader&&t.pagination.totalPage>1?e("div",{staticClass:"template-pagination"},[e("i-button",{class:{disabled:0==t.pagination.page},attrs:{prependIcon:"arrow-left",disabled:t.pagination.backLoading||t.pagination.nextLoading||0==t.pagination.page,loading:t.pagination.backLoading},on:{click:function(e){return t.searchTemplate(t.pagination.page-1)}}},[t._v(t._s(t.$t("back")))]),t._v(" "),e("i-button",{class:{disabled:t.noNext},attrs:{appendIcon:"arrow-right",disabled:t.pagination.backLoading||t.pagination.nextLoading||t.noNext,loading:t.pagination.nextLoading},on:{click:function(e){return t.searchTemplate(t.pagination.page+1)}}},[t._v(t._s(t.$t("next")))])],1):t._e()])])])],1)};i._withStripped=!0;var r=a("lSNA"),n=a.n(r),s=a("yXPU"),o=a.n(s),l=a("tL2h"),c=a("e4Bt"),p=a("OZsM");a("4mDm"),a("5s+n"),a("3bBZ");function u(){return(u=o()((function*(t,e){try{return(yield a("CkKj")("./".concat(t,".json"))).default}catch(t){return!1}}))).apply(this,arguments)}var d=a("Mj6V"),m=a.n(d),h=a("NRfZ"),g=a("ttAG"),f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"template-preview-content"},[e("div",{staticClass:"template-preview-dashboard"},[e("div",{staticClass:"template-preview-description"},[e("TemplateDescription",{attrs:{template:t.template,activeCategory:t.activeCategory},on:{useTemplate:function(e){return t.$emit("useTemplate")}}})],1)]),t._v(" "),e("div",{staticClass:"template-preview"},[e("TemplatePreview",{attrs:{template:t.template}})],1)])};f._withStripped=!0;var y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"preview-content"},[e("div",{staticClass:"title"},[e("h2",{staticClass:"template-title"},[t._v(t._s(t.template.title))])]),t._v(" "),e("div",{staticClass:"template-description"},[t._v("\n\t\t"+t._s(t.template.subTitle)+"\n\t")]),t._v(" "),e("div",{staticClass:"use-button"},[e("i-button",{staticClass:"button",on:{click:function(e){return t.$emit("useTemplate")}}},[t._v(t._s(t.$t("formTemplate.useTemplateButton").toUpperCase()))])],1)])};y._withStripped=!0;var v={props:{template:Object,activeCategory:Object}},b=(a("kZiU"),a("KHd+")),C=Object(b.a)(v,y,[],!1,null,"5c56b1c8",null).exports,T=function(){var t=this._self._c;return t("div",[t("iframe",{staticClass:"preview",attrs:{src:"https://my.forms.app/".concat(this.templateUserName,"/").concat(this.templateUrl)}})])};T._withStripped=!0;a("yq1k"),a("JTJg");var w={props:{template:Object},computed:{templateUrl:function(){return this.template.key.includes("/")?this.template.key.split("/")[1]:this.template.key},templateUserName:function(){return"templates"+this.template.lang}}},_=(a("qVB9"),Object(b.a)(w,T,[],!1,null,"15f4e791",null).exports),k={props:{template:Object,activeCategory:Object},components:{TemplateDescription:C,TemplatePreview:_},created:function(){this.$emit("createActions",{history:"formTemplateDetail",popupTitle:this.$t("popups.formCreatePopup.template.detailText")})}};a("r1tN");function j(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var $,x,L,O,F,B,D,P={name:"formtemplate",components:{FormTemplateDetail:Object(b.a)(k,f,[],!1,null,"d1f81d0c",null).exports},mixins:[a("4QS4").a],data:function(){return{templates:[],categories:[],templateUserName:"",showLoader:!1,searchKeyword:null,activeCategory:{},pagination:{page:0,pageSize:18,totalPage:0,backLoading:!1,nextLoading:!1},noNext:!1,defaultLang:"en",clickedTemplate:{},openDetail:!1}},created:(D=o()((function*(){var t=this.lang;if(this.fixTemplateUserName(),!this.$route.query.t||!(yield this.createFromTemplateByUrl(this.$route.query.t,this.$route.query.l))){this.showLoader=!0;var e=yield c.a.getTemplateCategories(this.lang);e.success&&e.payload&&e.payload.result&&e.payload.result[0]||(t=this.defaultLang,e=yield c.a.getTemplateCategories(t)),yield this.getTemplateByCategory(e.payload.result[0],0),this.activeCategory=e.payload.result[0],this.categories=e.payload.result,this.showLoader=!1}this.createActions({history:"template",popupTitle:this.$t("popups.formCreatePopup.template.text")})})),function(){return D.apply(this,arguments)}),methods:{assingTemplateResult:function(t){t.success&&t.payload&&t.payload.result&&(this.templates=t.payload.result,this.pagination.totalPage=Math.round(Math.ceil(t.payload.totalCount/this.pagination.pageSize)),this.pagination.page>=this.pagination.totalPage-1?this.noNext=!0:this.noNext=!1)},createActions:function(t){this.$emit("createActions",t)},searchTemplate:(B=o()((function*(t){if(t||(t=0),this.pagination.page=t,this.searchKeyword){var e=yield c.a.searchTemplate(this.lang,this.searchKeyword.toLocaleLowerCase(),t,this.pagination.pageSize);this.assingTemplateResult(e)}else this.getTemplateByCategory(this.activeCategory,t)})),function(t){return B.apply(this,arguments)}),getTemplateByCategory:(F=o()((function*(t,e){t&&(this.activeCategory=t),(!g.default.isNumber(e)||e<0)&&(e=0),this.pagination.page-1===e?this.pagination.backLoading=!0:this.pagination.page+1===e&&(this.pagination.nextLoading=!0),this.pagination.page=e,this.searchKeyword="";var a=yield c.a.getTemplatesByCategory(this.lang,this.activeCategory.id,this.pagination.page,this.pagination.pageSize);a.success&&a.payload&&a.payload.result&&a.payload.result.length>0||(a=yield c.a.getTemplatesByCategory(this.defaultLang,this.activeCategory.id,this.pagination.page,this.pagination.pageSize)),this.assingTemplateResult(a),this.pagination.backLoading=!1,this.pagination.nextLoading=!1})),function(t,e){return F.apply(this,arguments)}),prepareTemplateImageUrl:function(t){return t&&t.previewImage?h.a.fileApi+"/sitefile/"+t.previewImage:h.a.fileApi+"/sitefile/1625043275714.jpeg"},fixTemplateUserName:function(t){this.templateUserName="templates".concat(t||this.lang)},templateRequest:(O=o()((function*(t){m.a.start(),document.body.classList.add("route-loading");var e=this.$route.query.t?"beforelogin":"afterlogin",a=yield p.a.importForm(function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?j(Object(a),!0).forEach((function(e){n()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},t),"template",e,this.lang);(yield this.logic(a))&&this.onAfterSuccessCreate(a.data,t)})),function(t){return O.apply(this,arguments)}),createFromTemplateByObject:(L=o()((function*(t){yield this.createFromTemplate(t.key,t,t.lang)})),function(t){return L.apply(this,arguments)}),showTemplateDetail(t){this.clickedTemplate=t,this.openDetail=!0,this.$emit("backButtonDirectory","template")},aiBtnClicked:function(){this.openDetail=!1,this.clickedTemplate={},this.$emit("aiBtnClicked")},createFromTemplateByUrl:(x=o()((function*(t,e){return yield this.createFromTemplate(t,null,e)})),function(t,e){return x.apply(this,arguments)}),createFromTemplate:($=o()((function*(t,e,a){if("blank"===t)return yield this.createRequest();if(t){var i=t.split("/");i&&i.length>0&&i[1]&&(t=i[1])}var r=!1,n=setTimeout(()=>{r=!0,document.body.classList.add("route-loading"),m.a.start()},350),s=null;if(e||(s=yield function(t,e){return u.apply(this,arguments)}(t)),!s){var o="templates"+(a||"en"),c=yield l.a.getShared(null,o,t);if(204===c.status)return m.a.done(),clearTimeout(n),document.body.classList.remove("route-loading"),!1;s=c.data}clearTimeout(n),s&&(s.isEnabled=!0,s.url=t,this.$auth.isAuthenticated()?yield this.templateRequest(s):(delete s.userId,delete s._id,yield this.createRequest(s))),r&&(m.a.done(),document.body.classList.remove("route-loading"))})),function(t,e,a){return $.apply(this,arguments)}),closeModal(){this.clickedTemplate={},this.openDetail=!1,this.$emit("closeModal")},useSelectedTemplate(){this.createFromTemplateByObject(this.clickedTemplate),this.closeModal()},onBackClick:function(){this.clickedTemplate={},this.openDetail=!1,this.$emit("changePopupTitle",this.$t("popups.formCreatePopup.template.text"))}},computed:{lang:function(){return this.$i18n.locale&&this.$i18n.locale.substring(0,2)||this.defaultLang}},watch:{searchKeyword(t){""===t&&this.searchTemplate()}}},A=(a("Y8s6"),Object(b.a)(P,i,[],!1,null,"46dd5b89",null));e.default=A.exports},f1Vy:function(t,e,a){},kZiU:function(t,e,a){"use strict";a("XzJh")},mM9l:function(t,e,a){var i=a("LboF"),r=a("qxiB");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var n={insert:"head",singleton:!1};i(r,n);t.exports=r.locals||{}},qVB9:function(t,e,a){"use strict";a("A1ZR")},qxiB:function(t,e,a){},r1tN:function(t,e,a){"use strict";a("2CL+")}}]);