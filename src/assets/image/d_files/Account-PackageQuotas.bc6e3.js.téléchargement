(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"0h7y":function(t,e,a){var o=a("LboF"),s=a("zdOE");"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[t.i,s,""]]);var r={insert:"head",singleton:!1};o(s,r);t.exports=s.locals||{}},OPRw:function(t,e,a){},VNev:function(t,e,a){"use strict";a("jOtI")},XB9f:function(t,e,a){},deQX:function(t,e,a){"use strict";a("0h7y")},jOtI:function(t,e,a){var o=a("LboF"),s=a("OPRw");"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[t.i,s,""]]);var r={insert:"head",singleton:!1};o(s,r);t.exports=s.locals||{}},mfAK:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"control-sub-wrapper"},[e("div",{staticClass:"form-title"},[e("h2",[t._v(t._s(t.$t("accountSettings.quotas.packageQuotas")))])]),t._v(" "),t.$root.user&&t.$root.user.info&&t.$root.user.info.package&&"premium"===t.$root.user.info.package.name?e("div",{staticClass:"premium-contact-link"},[e("i-icon",{attrs:{icon:"info"}}),t._v(" "),1===t.quotaStatus?e("span",[t._v(t._s(t.$t("accountSettings.quotas.quotaAlmostFull")+"."))]):t._e(),t._v(" "),2===t.quotaStatus?e("span",[t._v(t._s(t.$t("accountSettings.quotas.quotaFull")))]):t._e(),t._v(" "),e("span",[e("a",{staticClass:"link",attrs:{target:"_blank",href:"/forms/contact-us"}},[t._v("\n\t\t\t\t"+t._s(t.$t("accountSettings.quotas.premiumPackageWarning"))+"\n\t\t\t")])])],1):t._e(),t._v(" "),t.showProgress?e("i-preloader"):t._e(),t._v(" "),t.errorMessage?e("i-alert",{attrs:{type:"error"}},[t._v("\n\t\t"+t._s(t.errorMessage)+"\n\t")]):t._e(),t._v(" "),t.quotaUsages?e("div",{staticStyle:{overflow:"auto","max-width":"100%"}},t._l(t.quotaResources,(function(a,o){return e("div",{key:o,attrs:{set:t.quotaUsage=t.quotaUsages[o]}},[a.invisibleOnChartWhenQuotaZero&&0===t.quotaUsage.quota?e("div",{staticClass:"control-wrapper"},[e("label",[t._v(t._s(a.title))]),t._v(" "),e(o+"UpgradeInfo",{tag:"component"})],1):e("HorizontalBar",{attrs:{set:t.quotaUsage=t.quotaUsages[o],width:t.$root.isMobile?400:820,height:200,title:t.quotaHelpers.createTitle(a,t.quotaUsage.quota,t.quotaUsage.used),info:t.quotaUsage.periodInfo,min:0,max:t.quotaHelpers.createMaxValue(a,t.quotaUsage.quota,t.quotaUsage.used),currentValue:t.quotaHelpers.createUsedValue(a,t.quotaUsage.quota,t.quotaUsage.used),color:t.quotaHelpers.createColor(t.quotaUsage.quota,t.quotaUsage.used)}})],1)})),0):t._e()],1)};o._withStripped=!0;var s=a("yXPU"),r=a.n(s),i=a("eJdl"),n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"control-wrapper"},[e("label",[t._v(t._s(t.title))]),t._v(" "),t.info?e("i",{staticClass:"horizontal-bar-chart-hint"},[t._v(t._s(t.info))]):t._e(),t._v(" "),e("HorizontalBarChart",{staticClass:"horizontal-bar-chart-wrapper",attrs:{data:t.data,options:t.options,width:t.width,height:t.height||t.canvasHeight}})],1)};n._withStripped=!0;a("4mDm"),a("5s+n"),a("3bBZ");var u={name:"HorizontalChart",props:["currentValue","width","height","min","max","color","title","info"],components:{HorizontalBarChart:()=>Promise.all([a.e(27),a.e(120)]).then(a.bind(null,"UyyL"))},data:function(){return{data:{datasets:[{backgroundColor:this.color,data:[this.currentValue]}],labels:[" "]},options:{scales:{xAxes:[{type:"linear",display:!0,position:"bottom",id:"x-axis-1",ticks:{min:this.min,max:this.max}}]},legend:{display:!1}}}},computed:{canvasHeight:function(){if(this.height)return this.height;var t=window.innerWidth;return t<486?40:30}}},c=(a("VNev"),a("KHd+")),l=Object(c.a)(u,n,[],!1,null,"7abb4eb8",null).exports,h=function(){return(0,this._self._c)("UpgradeInfo",{attrs:{title:this.$t("formSettings.notificationSettings.upgradePackage"),text:this.$t("howManyMembersWantAdd"),currentQuota:this.currentQuota,upgradeOptions:this.teamMemberUpgradeOptions,eventName:"team_quotaspage"}})};h._withStripped=!0;var g={mixins:[{name:"TeamMemberUpgradeMixin",data:function(){return{teamMemberUpgradeOptions:[{text:this.$t("teamMember.quotaMember",{quota:1}),quota:1},{text:this.$t("teamMember.quotaMembers",{quota:4}),quota:4},{text:this.$t("teamMember.quotaMembers",{quota:9}),quota:9}]}},computed:{currentQuota:function(){return this.$root.user.quotas&&this.$root.user.quotas.teamMemberCount.quota}}}],name:"TeamMemberCountUpgradeInfo",components:{UpgradeInfo:()=>a.e(255).then(a.bind(null,"OAYW"))}};a("r487");var p,d={name:"PackageQuotas",components:{HorizontalBar:l,TeamMemberCountUpgradeInfo:Object(c.a)(g,h,[],!1,null,"16ffe441",null).exports},data:function(){return{value:0,vertical:!1,showProgress:!0,errorMessage:null,quotaUsages:null,quotaStatus:0,quotaHelpers:i.a,quotaResources:i.a.resources(this)}},mounted:(p=r()((function*(){this.showProgress=!0;var t=yield this.quotaHelpers.setAndGetUserQuotaUsagesAsync(this);if(this.showProgress=!1,t&&t.quotaUsages)this.quotaUsages=t.quotaUsages,this.$set(this.$root.user.info,"isSuspend",t.is),this.$set(this.$root.user.info,"quotas",t.quotaUsages),this.calcQuotaStatus();else{var e=" ".concat(this.$root.$t("notification.traceCode"),": PCKQ0001");this.errorMessage=this.$root.$t("notification.anErrorOccurred",{moreDetail:e})}})),function(){return p.apply(this,arguments)}),methods:{setPeriodInfos(){var t="";for(var e in this.quotaUsages){var a=this.quotaUsages[e];t+="".concat(e,": ").concat(a.used,", "),a.periodInfo=this.periodInfo(e)}return t},periodInfo(t){var e,a,o,s=this.quotaResources[t];if(!s)return"";if("monthly"!==s.period)return"";if(this.$root.user&&this.$root.user.info&&this.$root.user.info.package&&this.$root.user.info.package.createDate){var r=new Date(this.$root.user.info.package.createDate),i=new Date,n=(e=r,o=12*((a=i).getFullYear()-e.getFullYear()),o-=e.getMonth(),(o+=a.getMonth())<=0?0:o);r.setMonth(r.getMonth()+n),r<i&&r.setMonth(r.getMonth()+1),r.setDate(r.getDate()+1);var u=this.$root.user.info.culture?this.$root.user.info.culture.name:"en",c=r.toLocaleString(u,{year:"numeric",month:"numeric",day:"numeric"});return this.$t("accountSettings.quotas.resetDate",{resetDate:c})}return""},calcQuotaStatus(){if(this.$root.user.info.package&&"premium"===this.$root.user.info.package.name)for(var t in this.quotaUsages)if(0!==this.quotaUsages[t].quota){var e=this.quotaHelpers.createUsedPercent(this.quotaUsages[t].used,this.quotaUsages[t].quota);if(e>=70&&e<100){this.quotaStatus=1;break}if(e>=100){this.quotaStatus=2;break}}}},watch:{"$root.user.info.package":function(){this.setPeriodInfos()}}},f=(a("deQX"),Object(c.a)(d,o,[],!1,null,"29df8a80",null));e.default=f.exports},r487:function(t,e,a){"use strict";a("ugFg")},ugFg:function(t,e,a){var o=a("LboF"),s=a("XB9f");"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[t.i,s,""]]);var r={insert:"head",singleton:!1};o(s,r);t.exports=s.locals||{}},zdOE:function(t,e,a){}}]);