(window.webpackJsonp=window.webpackJsonp||[]).push([[256],{"48Od":function(e,t,o){},"7+CG":function(e,t,o){"use strict";o("Limc")},"7/Z5":function(e,t,o){},"7Nbh":function(e,t,o){"use strict";o("9ntr")},"9ntr":function(e,t,o){var r=o("LboF"),s=o("7/Z5");"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1};r(s,n);e.exports=s.locals||{}},A5BJ:function(e,t,o){},ATVm:function(e,t,o){"use strict";o("ktO7")},DHyd:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"myforms-content"},[e.withoutDashboardLeftNavigation?e._e():t("DashboardLeftNavigation",{ref:"dashboardLeftNavigation",attrs:{leftMenuOpen:e.leftMenuOpen,archiveTrashCount:e.archiveTrashCount,myforms:e.myforms},on:{closeLeftMenu:function(t){e.leftMenuOpen=!1},deleteFolder:e.deleteFolder}}),e._v(" "),t("div",{staticClass:"dashboard-content"},[t("router-view",{ref:"container",staticClass:"forms-content-layout",attrs:{folder:e.selectedFolder,folders:e.folders,forms:e.forms,formListEmptyImg:"/static/img/myforms-empty.svg",formListEmptyTitle:e.$t("myForms.formEmptyTitle"),formListEmptyText:e.$t("myForms.formEmptyText"),actions:e.actions,bulkActions:e.bulkActions},on:{changeTrashOrArchiveCount:e.changeTrashOrArchiveCount,openAddFolderPopup:e.openAddFolderPopup}})],1),e._v(" "),e.$auth.isAuthenticated()?e._e():t("GoogleOneTap"),e._v(" "),t("div",{staticClass:"mobile-menu-overlay",class:{open:e.leftMenuOpen},on:{click:function(t){e.leftMenuOpen=!1}}}),e._v(" "),e.showIntegrationPopup?t("DashboardIntegrationPopup",{attrs:{forms:e.forms}}):e._e(),e._v(" "),e.showCategoryForm?t("UserCategoryForm",{on:{close:function(t){e.showCategoryForm=!1}}}):e._e()],1)};r._withStripped=!0;var s=o("yXPU"),n=o.n(s),i=(o("4mDm"),o("5s+n"),o("3bBZ"),o("ToJy"),o("TFTg")),a=o("VwwM"),l=o("P0qE"),d=o("NRfZ"),c={checkStatus:e=>l.a.get("/v1/app/checkstatus/web/"+d.a.webVersion,null,(function(t){e({hasNewVersion:!(200===t.status||201===t.status)})}))},u=o("ttAG"),p=o("kdFr"),f=function(){var e=this,t=e._self._c;return t("div",{staticClass:"myforms-column-wrapper"},[t("div",{staticClass:"mobile-menu-overlay",class:{open:e.leftMenuOpen},on:{click:function(t){return e.$emit("closeLeftMenu")}}}),e._v(" "),t("div",{staticClass:"myforms-column",class:{open:e.leftMenuOpen}},[t("div",{staticClass:"formsapp-logo-menu visible-xs"},[t("router-link",{attrs:{to:{path:"/myforms"}}},[t("img",{staticClass:"icon-logo first",attrs:{src:"/static/img/formsapp-logo.svg"}}),e._v(" "),t("img",{staticClass:"icon-logo second",attrs:{src:"/static/img/formsapp-logo-white.svg"}})])],1),e._v(" "),e.$can("form-create")?t("div",{staticClass:"create-form-left visible-xs"},[t("router-link",{attrs:{to:{name:"FormTemplate"}}},[t("div",{staticClass:"create-button big visible-xs"},[t("span",[e._v(e._s(e.$t("createForm")))])])])],1):e._e(),e._v(" "),t("FolderList",{ref:"folderList",attrs:{leftMenuOpen:e.leftMenuOpen,myforms:e.myforms},on:{deleteFolder:e.deleteFolder}}),e._v(" "),t("div",{staticClass:"myforms-column-bottom"},[e.$auth.isAuthenticated()&&!e.$root.isIframe?t("div",{staticClass:"user-quota-summury"},[e.$root.user.quotas?[t("i-accordion",{on:{onChange:e.onChange},scopedSlots:e._u([{key:"head",fn:function(){return[t("div",{staticClass:"summury-title"},[t("div",{staticClass:"packages-infos"},[e.$root.user.info.package?[t("h3",{class:e.$root.user.info.package.key},[e._v("\n\t\t\t\t\t\t\t\t\t\t\t"+e._s(e.$root.user.info.package.displayName)+"\n\t\t\t\t\t\t\t\t\t\t\t")])]:e._e()],2)]),e._v(" "),t("i-icon",{staticClass:"chevron-down",attrs:{icon:"chevron-down"}})]},proxy:!0}],null,!1,4074786623)},[e._v(" "),t("div",[e._l(e.quotaResources,(function(o,r){return o.strong?t("div",{key:r,staticClass:"summury-column"},[t("div",{staticClass:"summury-column-title"},[t("h4",[e._v(e._s(o.title))])]),e._v(" "),t("span",{staticClass:"chart"},[t("span",{staticClass:"chart-fill",style:{width:e.quotaHelpers.createUsedPercentForWidth(e.$root.user.quotas[r].used,e.$root.user.quotas[r].quota)+"%","background-color":e.quotaHelpers.createColor(e.$root.user.quotas[r].quota,e.$root.user.quotas[r].used)}})]),e._v(" "),e.$root.user.quotas[r]?t("p",{staticClass:"chart-number"},[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s(o.createTitleOnlyUsed(e.$root.user.quotas[r].quota,e.$root.user.quotas[r].used))+"\n\t\t\t\t\t\t\t\t")]):e._e()]):e._e()})),e._v(" "),t("div",{staticClass:"text-center"},[t("router-link",{attrs:{to:{name:"ProfilePackageQuotas"}}},[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s(e.$t("seeAll"))+"\n\t\t\t\t\t\t\t\t")])],1)],2)])]:e._e()],2):e._e(),e._v(" "),t("div",{staticClass:"myforms-bottom-menu"},[t("ul",[t("li",[t("a",{class:{active:"FormArchive"===e.$route.name},on:{click:function(t){return e.gotoRoute({name:"FormArchive"})}}},[t("i-icon",{attrs:{regular:"",solid:"FormArchive"===e.$route.name,icon:"archive"}}),e._v(" "),t("span",[e._v(e._s(e.$t(e.$t("archive.title"))))]),e._v(" "),e.archiveTrashCount?t("span",{staticClass:"folder-count"},[e._v("\n\t\t\t\t\t\t\t\t("+e._s(e.archiveTrashCount.archive||0)+")\n\t\t\t\t\t\t\t")]):e._e()],1)]),e._v(" "),t("li",[t("a",{class:{active:"FormTrash"===e.$route.name},on:{click:function(t){return e.gotoRoute({name:"FormTrash"})}}},[t("i-icon",{attrs:{regular:"",solid:"FormTrash"===e.$route.name,icon:"trash"}}),e._v(" "),t("span",[e._v(e._s(e.$t("trashPage.title")))]),e._v(" "),e.archiveTrashCount?t("span",{staticClass:"folder-count"},[e._v("\n\t\t\t\t\t\t\t\t("+e._s(e.archiveTrashCount.trash||0)+")\n\t\t\t\t\t\t\t")]):e._e()],1)]),e._v(" "),e.showMySubmissions?t("li",[t("a",{class:{active:"MySubmissions"===e.$route.name},on:{click:function(t){return e.gotoRoute({name:"MySubmissions"})}}},[t("i-icon",{attrs:{icon:"paper-plane",solid:"MySubmissions"===e.$route.name}}),e._v(" "),t("span",[e._v(e._s(e.$t("saveAsDraft.mySubmissions")))])],1)]):e._e(),e._v(" "),t("li",[t("a",{staticClass:"team",class:{active:"DashboardTeamMembers"===e.$route.name},on:{click:e.openTeamMembers}},[t("i-icon",{attrs:{"regularÃ§":"",icon:"users",solid:"DashboardTeamMembers"===e.$route.name}}),e._v(" "),t("span",[e._v(e._s(e.$t("teamMember.title")))])],1)]),e._v(" "),e.$root.isIframe?t("li",[t("a",{on:{click:function(t){return e.$root.logout()}}},[t("i-icon",{attrs:{icon:"sign-out"}}),e._v(" "),t("span",[e._v(e._s(e.$t("logout")))])],1)]):e._e()])])])],1)])};f._withStripped=!0;var h=o("IWQq"),m=function(){var e=this,t=e._self._c;return t("div",{staticClass:"myforms-column-top"},[t("MyFolders",{ref:"myFolders",attrs:{leftMenuOpen:e.leftMenuOpen,myforms:e.myforms},on:{onClickHistory:e.showHistory,deleteFolder:e.deleteFolder}}),e._v(" "),t("SharedFolders",{on:{onClickHistory:e.showHistory}}),e._v(" "),t("i-popup",{staticClass:"myforms-popup name-change-folder-popup",attrs:{"close-button":""},model:{value:e.nameChangePopup,callback:function(t){e.nameChangePopup=t},expression:"nameChangePopup"}},[t("h3",[e._v(e._s(e.$t("myForms.changeName")))]),e._v(" "),t("div",{staticClass:"add-folder-content"},[t("i-text",{attrs:{autocomplete:"off",value:"Development"}}),e._v(" "),t("i-button",[e._v(e._s(e.$t("myForms.changeName")))])],1)]),e._v(" "),t("i-popup",{staticClass:"myforms-popup color-change-folder-popup",attrs:{"close-button":""},model:{value:e.colorChangePopup,callback:function(t){e.colorChangePopup=t},expression:"colorChangePopup"}},[t("div",{staticClass:"change-color-content"},[t("h3",[e._v(e._s(e.$t("myForms.changeColor")))]),e._v(" "),t("div",{staticClass:"change-color-item",staticStyle:{background:"#E25EA5"}}),e._v(" "),t("div",{staticClass:"change-color-item active",staticStyle:{background:"#79E88A"}}),e._v(" "),t("div",{staticClass:"change-color-item",staticStyle:{background:"#E2915E"}}),e._v(" "),t("div",{staticClass:"change-color-item",staticStyle:{background:"#5EE2CE"}}),e._v(" "),t("div",{staticClass:"change-color-item",staticStyle:{background:"#E25E5E"}}),e._v(" "),t("div",{staticClass:"change-color-item",staticStyle:{background:"#C45EE2"}}),e._v(" "),t("div",{staticClass:"change-color-item add",staticStyle:{background:"#cecece"}},[t("i-icon",{attrs:{icon:"plus"}})],1)])]),e._v(" "),t("ChangelogListPopup",{ref:"changelogList",attrs:{changelogType:"folder",parentId:e.selectedFolder&&e.selectedFolder._id,ownerId:e.selectedFolder&&e.selectedFolder.ownerId,folderId:e.selectedFolder&&e.selectedFolder._id,parentModel:e.selectedFolder}})],1)};m._withStripped=!0;var v=function(){var e,t=this,o=t._self._c;return o("div",[o("div",{staticClass:"folder-menu"},[o("FolderItem",{attrs:{folder:{name:t.$t("myForms.pageTitle"),formIds:t.myFoldersFormIds,_id:"/myforms"},icon:"folders"},on:{click:t.gotoMyForms}}),t._v(" "),t.folders&&t.folders.length>0?o("i-accordion",{attrs:{freeAccordion:"",value:!0},scopedSlots:t._u([{key:"head",fn:function(){return[o("i-icon",{staticClass:"chevron-down",attrs:{icon:"chevron-down"}})]},proxy:!0}],null,!1,1008673608)},[t._v(" "),t.folders&&t.folders.length>0?o("ul",{staticClass:"sub-folder"},t._l(t.folders,(function(e,r){return o("li",{key:r},[o("FolderItem",{attrs:{folder:e,icon:"folder",solid:"",actions:""},on:{openFolderActionDropdown:t.openFolderActionDropdown,click:t.gotoForms}})],1)})),0):t._e(),t._v(" "),o("div",{staticClass:"text-center add-folder-menu",on:{click:function(e){return t.openAddFolderPopup()}}},[o("span",[o("i-icon",{attrs:{icon:"folder-plus",regular:""}}),t._v(t._s(t.$t("myForms.createFolder"))+"\n\t\t\t\t")],1)])]):t._e()],1),t._v(" "),0===(null===(e=t.folders)||void 0===e?void 0:e.length)?o("div",{staticClass:"text-center add-folder-menu",on:{click:function(e){return t.openAddFolderPopup()}}},[o("span",[o("i-icon",{attrs:{icon:"folder-plus",regular:""}}),t._v(t._s(t.$t("myForms.createFolder"))+"\n\t\t")],1)]):t._e(),t._v(" "),o("AddOrEditFolderPopup",{ref:"addOrEditFolderPopup",attrs:{folder:t.selectedFolder},on:{appendFolder:t.appendFolder}}),t._v(" "),o("FolderActionDropdown",{ref:"folderActionDropdown",attrs:{edit:"",deleted:"",history:""},on:{openAddOrEditFolderPopup:t.openEditFolderPopup,onClickHistory:function(e){return t.$emit("onClickHistory",t.selectedFolder)},deleteFolder:t.deleteFolder}})],1)};v._withStripped=!0;var g=o("lSNA"),y=o.n(g),F=o("tL2h"),_=o("jkf8"),C=function(){var e=this,t=e._self._c;return t("div",[t("i-popup",{staticClass:"add-folder-popup myforms-popup",attrs:{"close-button":""},on:{closed:function(t){return e.$emit("closed")}},model:{value:e.addOrEditFolderPopup,callback:function(t){e.addOrEditFolderPopup=t},expression:"addOrEditFolderPopup"}},[t("h3",[e._v(e._s(e.$t("myForms.folderName")))]),e._v(" "),t("div",{staticClass:"add-folder-content"},[t("i-text",{attrs:{autocomplete:"off",placeholder:e.$t("myForms.folderName")},model:{value:e.saveModel.name,callback:function(t){e.$set(e.saveModel,"name",t)},expression:"saveModel.name"}}),e._v(" "),e.errMessage?t("i-alert",{attrs:{type:"error"}},[e._v("\n\t\t\t\t"+e._s(e.errMessage)+"\n\t\t\t")]):e._e()],1),e._v(" "),t("FolderColor",{attrs:{value:e.saveModel.color,customColors:e.userFolderColors},on:{onColorSelect:e.onColorSelect}}),e._v(" "),t("div",{staticClass:"apply-btn"},[t("i-button",{attrs:{loading:e.loading,disabled:!e.saveModel.name||!e.saveModel.color},on:{click:e.addOrEditFolder}},[e._v(e._s(this.saveModel&&this.saveModel._id?e.$t("save"):e.$t("add")))])],1)],1)],1)};C._withStripped=!0;var b=function(){var e=this,t=e._self._c;return t("div",{staticClass:"change-color-content-layout"},[t("h3",[e._v(e._s(e.$t("myForms.folderColor")))]),e._v(" "),t("div",{staticClass:"change-color-content"},[e._l(e.defaultColors,(function(o){return t("div",{key:o,staticClass:"change-color-item",class:{active:e.folderColor===o},style:"background:"+o,on:{click:function(t){return e.selectColor(o,!1)}}})})),e._v(" "),e._l(e.customColors,(function(o){return t("div",{key:o,staticClass:"change-color-item",class:{active:e.folderColor===o},style:"background:"+o,on:{click:function(t){return e.selectColor(o,!1)}}})})),e._v(" "),e.disableColorPicker?t("div",{staticClass:"change-color-item add",class:{active:e.folderColor===e.customColor},style:"background:"+e.customColor,on:{click:function(t){return e.selectColor(e.customColor,!0)}}},[t("i-icon",{style:"color:"+e.penColor,attrs:{icon:"pen"}})],1):e._e(),e._v(" "),e.disableColorPicker?e._e():t("div",{staticClass:"change-color-item add",staticStyle:{background:"#cecece"},on:{click:e.openColorpicker}},[t("i-icon",{attrs:{icon:"plus"}})],1),e._v(" "),t("IColorPicker",{ref:"colorPicker",staticClass:"color-picker",attrs:{hidden:"",naked:"",hex:e.folderColor||"#000000"},on:{input:e.selectColorFromPicker}})],2)])};b._withStripped=!0;var $={name:"FolderColor",components:{IColorPicker:()=>o.e(123).then(o.bind(null,"AJDF"))},props:{value:String,customColors:Array},data:function(){return{folderColor:this.value,defaultColors:["#E25EA5","#79E88A","#E2915E","#5EE2CE","#E25E5E","#C45EE2"],customColor:"#11c4e0",disableColorPicker:!1}},methods:{selectColorFromPicker(e){this.folderColor=e,this.customColor=e,this.$emit("onColorSelect",e,!0)},selectColor(e,t){this.folderColor=e,t&&this.$refs.colorPicker.onColorClick(),this.$emit("onColorSelect",e,t)},openColorpicker:function(){this.$refs.colorPicker.onColorClick(),this.disableColorPicker=!0}},computed:{penColor:function(){return this.customColor&&u.default.brightnessByColor(this.customColor)>127?"#000000":"#ffffff"}}},w=(o("7Nbh"),o("KHd+")),k=Object(w.a)($,b,[],!1,null,"64eead5b",null).exports;function M(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}var O,P=!1,A={name:"AddOrEditFolderPopup",components:{FolderColor:k},data:function(){return{addOrEditFolderPopup:!1,folderModel:{},loading:!1,userFolderColors:[],folderNameMaxLimit:d.a.folderNameMaxLimit,errMessage:null,saveModel:{}}},mounted:function(){this.userFolderColors=JSON.parse(p.a.getItem("userFolderColors"))||[]},methods:{onColorSelect:function(e,t){this.$set(this.saveModel,"color",e),P=t},open:function(e){this.saveModel=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?M(Object(o),!0).forEach((function(t){y()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):M(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},e),this.addOrEditFolderPopup=!0},close:function(){this.addOrEditFolderPopup=!1},addOrEditFolder:(O=n()((function*(){var e;if(this.loading=!0,this.saveModel&&this.saveModel.name.length>d.a.folderNameMaxLimit)return this.errMessage=this.$t("errorEnums.folderNameMustBeMinMaxCharactersLong"),void(this.loading=!1);200===(e=this.saveModel._id?yield i.a.update(this.saveModel):yield i.a.create(this.saveModel)).status||204===e.status?(P&&-1===this.userFolderColors.indexOf(this.saveModel.color)&&(this.userFolderColors.push(this.saveModel.color),p.a.setItem("userFolderColors",JSON.stringify(this.userFolderColors))),e.data&&e.data.folder&&(e.data.folder.ownerId=e.data.folder.userId,this.$emit("appendFolder",e.data.folder)),this.close()):e.data.fieldErrors&&e.data.fieldErrors&&e.data.fieldErrors.length>0&&e.data.fieldErrors.forEach(e=>{this.errMessage=u.default.serverSideErrorLocalization("formfolder",e)}),this.loading=!1})),function(){return O.apply(this,arguments)})}},S=(o("JNNY"),Object(w.a)(A,C,[],!1,null,"c9a93086",null).exports),I=function(){var e=this,t=e._self._c;return t("i-dropdown",{ref:"folderActionDropdown",staticClass:"folder-dropdown",attrs:{"open-manually":"",activator:".folder-drop-click"}},[t("ul",[e.edit?t("li",{on:{click:function(t){return e.$emit("openAddOrEditFolderPopup")}}},[t("i-icon",{attrs:{icon:"pen"}}),e._v(" "),t("span",[e._v(e._s(e.$t("myForms.editFolder")))])],1):e._e(),e._v(" "),e.history?t("li",{on:{click:function(t){return e.$emit("onClickHistory")}}},[t("i-icon",{attrs:{icon:"history"}}),e._v(" "),t("span",[e._v(e._s(e.$t("myForms.folderHistory")))])],1):e._e(),e._v(" "),e.leave?t("li",{staticClass:"delete-color",on:{click:function(t){return e.$emit("leaveFolder")}}},[t("i-icon",{attrs:{icon:"minus"}}),e._v(" "),t("span",[e._v(e._s(e.$t("myForms.leaveFolder")))])],1):e._e(),e._v(" "),e.deleted?t("li",{staticClass:"delete-color",on:{click:function(t){return e.$emit("deleteFolder")}}},[t("i-icon",{attrs:{icon:"trash"}}),e._v(" "),t("span",[e._v(e._s(e.$t("myForms.deleteFolder")))])],1):e._e()])])};I._withStripped=!0;var E={name:"FolderActionDropdown",props:{leave:Boolean,deleted:Boolean,edit:Boolean,history:Boolean},methods:{open:function(e){this.$refs.folderActionDropdown.open(e)}}},T=(o("7+CG"),Object(w.a)(E,I,[],!1,null,"4f0b5381",null).exports);function x(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function L(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?x(Object(o),!0).forEach((function(t){y()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):x(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var D,N,j,q={name:"MyFolders",components:{FolderItem:_.a,AddOrEditFolderPopup:S,FolderActionDropdown:T,IAccordion:h.a},props:{myforms:Array},data:function(){return{selectOnForm:!1,folders:[],selectedFolder:null,nameChangePopup:!1,colorChangePopup:!1,folderHistoryPopup:!1}},mounted:function(){this.getMyFolders(),this.getMyForms()},methods:{showMustLoginPopup:function(){return!this.$auth.isAuthenticated()&&(this.$swal({title:this.$t("popups.mustLogin.title"),text:this.$t("popups.mustLogin.text"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("login"),cancelButtonText:this.$t("cancel"),confirmButtonColor:this.$theme.blue}).then((function(e){e.value&&(window.location="/auth/signup")})),!0)},getMyFolders:(j=n()((function*(){var e=(yield i.a.getMyFolders())||[];e&&(this.folders=e.map(e=>L(L({},e),{},{ownerId:e.userId}))),this.$emitEvent("folders",this.folders)})),function(){return j.apply(this,arguments)}),getMyForms:(N=n()((function*(){var e=yield F.a.getAll();e?(e.sort((e,t)=>new Date(t.createDate)-new Date(e.createDate)),this.$emitEvent("myforms",e)):this.$emitEvent("myforms",[])})),function(){return N.apply(this,arguments)}),openFolderActionDropdown:function(e,t){this.selectedFolder=t,this.$refs.folderActionDropdown.open(e)},openEditFolderPopup:function(){this.$refs.addOrEditFolderPopup.open(this.selectedFolder)},openAddFolderPopup:function(){this.showMustLoginPopup()||(this.selectedFolder=null,this.$refs.addOrEditFolderPopup.open())},appendFolder:function(e){if(this.folders){var t=this.folders.findIndex(t=>t._id===e._id);t>-1?(this.folders[t].name=e.name,this.folders[t].color=e.color):(this.folders.push(e),this.$emitEvent("folders",[e]))}},deleteFolder:(D=n()((function*(){var e=this;this.$swal({title:this.$t("areYouSure"),text:this.$t("myForms.youAreDeletingFolder"),icon:"warning",showCancelButton:!0,cancelButtonText:this.$t("cancel"),confirmButtonText:this.$t("popups.deleteFormPopup.okButtonText")}).then(function(){var t=n()((function*(t){if(t.value){var o=yield i.a.delete(e.selectedFolder._id);if(200===o.status||204===o.status){var r=e.folders.findIndex(t=>t._id===e.selectedFolder._id);r>=0&&(e.folders[r].formIds=[],e.folders.splice(r,1),e.$emit("deleteFolder",e.selectedFolder._id),e.gotoForms())}}}));return function(e){return t.apply(this,arguments)}}())})),function(){return D.apply(this,arguments)}),gotoMyForms:function(){"/myforms"!==this.$route.path&&this.$router.push("/myforms")},gotoForms:function(e){e?this.$route.params.id!==e._id&&this.$router.push({name:"Folder",params:{id:e._id}}):this.gotoMyForms()}},computed:{myFoldersFormIds:function(){return this.myforms?this.myforms.map(e=>({_id:e._id})):[]}}},B=(o("ATVm"),Object(w.a)(q,v,[],!1,null,"52b3088a",null).exports),H=(o("E9XD"),function(){var e=this,t=e._self._c;return e.folders&&e.folders.length>0?t("div",[t("div",{staticClass:"folder-menu shared"},[t("FolderItem",{attrs:{folder:{name:e.$t("myForms.sharedWithMe"),formCount:e.folders.length>0?e.folders.reduce((e,t)=>e.formCount+t.formCount):0,_id:"/shared"},icon:"folder-user"},on:{click:e.gotoSharedForms}}),e._v(" "),e.folders&&e.folders.length>0?t("i-accordion",{attrs:{value:e.accordionValue,freeAccordion:""},scopedSlots:e._u([{key:"head",fn:function(){return[t("i-icon",{staticClass:"chevron-down",attrs:{icon:"chevron-down"}})]},proxy:!0}],null,!1,1008673608)},[e._v(" "),e.folders&&e.folders.length>0?t("ul",{staticClass:"sub-folder"},[t("ul",{staticClass:"sub-folder"},e._l(e.folders,(function(o,r){return t("li",{key:r},[t("FolderItem",{attrs:{folder:o,icon:"folder",solid:"",actions:""},on:{openFolderActionDropdown:e.openFolderActionDropdown,onClickHistory:function(t){return e.$emit("onClickHistory",t)},click:e.gotoForms}})],1)})),0)]):e._e()]):e._e()],1),e._v(" "),t("FolderActionDropdown",{ref:"folderActionDropdown",attrs:{leave:"",history:""},on:{onClickHistory:function(t){return e.$emit("onClickHistory",e.selectedFolder)},leaveFolder:e.leaveFolder}})],1):e._e()});H._withStripped=!0;var U,V,R,J=o("BWiC"),Q=o("qiRQ"),W={name:"SharedFolders",components:{FolderItem:_.a,FolderActionDropdown:T,IAccordion:h.a},data:function(){return{folders:[],accordionValue:!1}},created:function(){this.getSharedFolders(),this.$root.getSharedFolders=this.getSharedFolders},methods:{getSharedFolders:(V=n()((function*(){var e=(yield i.a.getSharedFolders())||[];e&&(this.folders=e.map((function(e){return{_id:e.folderId,name:e.folderName,color:e.folderColor,ownerId:e.ownerId,role:e.role}}))),this.$emitEvent("folders",this.folders),this.accordionValue=!0})),function(){return V.apply(this,arguments)}),openFolderActionDropdown:function(e,t){this.selectedFolder=t,this.$refs.folderActionDropdown.open(e)},gotoForms:function(e){this.$route.params.id!==e._id&&this.$router.push({name:"Folder",params:{id:e._id}})},gotoSharedForms:function(){"/shared"!==this.$route.path&&this.$router.push("/shared")},leaveFolder:(U=n()((function*(){var e=this;this.$swal({title:this.$t("areYouSure"),text:this.$t("teamMember.leaveTheFolderText"),icon:"warning",showCancelButton:!0,cancelButtonText:this.$t("cancel"),confirmButtonText:this.$t("teamMember.leaveTheFolder")}).then(function(){var t=n()((function*(t){t.value&&((yield J.a.leaveFolder(e.selectedFolder.ownerId,e.selectedFolder._id))?(Q.a.deleteByObject(e.folders,e.selectedFolder),e.$router.push({path:"/myforms"})):e.$swal({title:e.$t("popups.errorOccurredPopup.title"),text:e.$t("popups.oopsPopup.text"),icon:"error"}))}));return function(e){return t.apply(this,arguments)}}())})),function(){return U.apply(this,arguments)})}},Y={name:"FolderList",components:{MyFolders:B,SharedFolders:Object(w.a)(W,H,[],!1,null,null,null).exports,ChangelogListPopup:o("XVP+").default},props:{leftMenuOpen:Boolean,myforms:Array},data:function(){return{nameChangePopup:!1,colorChangePopup:!1,folderHistoryPopup:!1,selectedFolder:{}}},methods:{deleteFolder:function(e){this.$emit("deleteFolder",e)},showHistory:(R=n()((function*(e){this.selectedFolder=e,this.folderHistoryPopup=!0,this.$refs.changelogList.open()})),function(e){return R.apply(this,arguments)}),openAddFolderPopup:function(){this.$refs.myFolders.openAddFolderPopup()}}},G=(o("TUU1"),Object(w.a)(Y,m,[],!1,null,"167ea21f",null).exports),Z=o("eJdl"),X=o("12B7"),z={name:"DashboardLeftNavigation",components:{FolderList:G,IAccordion:h.a},props:{myFormsCount:Number,leftMenuOpen:Boolean,archiveTrashCount:Object,myforms:Array},data:function(){return{isOpen:!0,quotaHelpers:Z.a,quotaResources:Z.a.resources(this),showMySubmissions:!1}},mounted:function(){var e=p.a.getItem("quotaIsOpen");this.isOpen=null===e||1===Number(e),this.showMySubmissions="1"===p.a.getItem("showMySubmissions"),this.showMySubmissions||X.a.getMySubmissionCount().then(e=>{e.count>0&&(this.showMySubmissions=!0,p.a.setItem("showMySubmissions",1))})},methods:{gotoRoute:function(e){this.$auth.isAuthenticated()?this.$router.push(e):this.$swal({title:this.$t("popups.mustLogin.title"),text:this.$t("popups.mustLogin.text"),icon:"warning"}).then((function(){}))},onChange:function(e){p.a.setItem("quotaIsOpen",e?1:0)},openTeamMembers:function(){this.$auth.isAuthenticated()&&this.$root.user&&this.$root.user.info&&this.$root.user.quotas&&this.$root.user.quotas.teamMemberCount&&0!==this.$root.user.quotas.teamMemberCount.quota?this.$router.push({name:"DashboardTeamMembers"}):this.$root.upgradePopup("teamMemberCount",{ownerId:this.$root.user._id})},openAddFolderPopup:function(){this.$refs.folderList.openAddFolderPopup()},deleteFolder:function(e){this.$emit("deleteFolder",e)}}},K=(o("uMmX"),Object(w.a)(z,f,[],!1,null,"bfbd840e",null).exports),ee=o("oCYn"),te=o("jbGa"),oe=o("WaTS"),re=function(){var e=this,t=e._self._c;return t("i-popup",{staticClass:"integrations-sync",attrs:{fullscreen:"","close-button":""},model:{value:e.integrationReferral,callback:function(t){e.integrationReferral=t},expression:"integrationReferral"}},[t("div",{staticClass:"popup-wrapper"},[t("div",{staticClass:"logos"},[t("img",{staticClass:"icon-logo first",attrs:{src:"/static/img/formsapp.svg"}}),e._v(" "),t("img",{staticClass:"icon-logo second",attrs:{src:"/static/img/formsapp-white.svg"}}),e._v(" "),t("div",{staticClass:"ball-wrapper"},[t("div",{staticClass:"ball"}),e._v(" "),t("div",{staticClass:"line"}),e._v(" "),t("i-icon",{staticClass:"caret",attrs:{icon:"caret-down",solid:""}})],1),e._v(" "),t("img",{attrs:{src:e.providerLogo}})]),e._v(" "),t("h2",[e._v(e._s(e.$t("myForms.integrationLink",{provider:e.selectedProvider.displayName})))]),e._v(" "),e.forms&&e.forms.length>0?t("div",{staticClass:"form-select"},[t("i-select",{attrs:{items:e.forms,"option-text":"title","option-value":"_id",searchable:"",onlyDirection:"down","empty-option":e.$t("myForms.chooseForm")},model:{value:e.popupSelectedFormId,callback:function(t){e.popupSelectedFormId=t},expression:"popupSelectedFormId"}}),e._v(" "),t("i-button",{class:{disabled:!e.popupSelectedFormId},on:{click:function(t){return e.goToIntegration(e.selectedProvider.name)}}},[e._v(e._s(e.$t("apply")))])],1):t("div",{staticClass:"no-form"},[t("p",{domProps:{innerHTML:e._s(e.$t("myForms.needFormToIntegrate",{provider:e.selectedProvider.displayName}))}}),e._v(" "),t("i-button",[t("router-link",{attrs:{to:{name:"FormTemplate"}}},[t("i-icon",{attrs:{icon:"plus"}}),e._v(e._s(e.$t("createForm"))+"\n\t\t\t\t")],1)],1)],1)])])};re._withStripped=!0;var se,ne,ie,ae,le,de=o("8rs4"),ce={name:"DashboardIntegrationPopup",props:["forms"],data:function(){return{integrationReferral:!1,popupSelectedFormId:"",selectedProvider:{}}},mounted:function(){var e=this.$route.query.provider,t=de.a[e];t&&(this.selectedProvider=t,this.integrationReferral=!0)},methods:{goToIntegration:function(e){this.popupSelectedFormId&&this.$router.push({path:"form/"+this.popupSelectedFormId+"/connect",query:{provider:e}})}},computed:{providerLogo:function(){if(this.selectedProvider)return this.selectedProvider.darkLogo&&this.$root.isDarkMode?this.selectedProvider.darkLogo:this.selectedProvider.logo}}},ue=(o("ZnjY"),Object(w.a)(ce,re,[],!1,null,"bed891b2",null).exports),pe=0,fe={name:"Dashboard",components:{DashboardLeftNavigation:K,DashboardIntegrationPopup:ue,GoogleOneTap:()=>Promise.all([o.e(54),o.e(1),o.e(270),o.e(45)]).then(o.bind(null,"xg4h")),UserCategoryForm:()=>Promise.all([o.e(4),o.e(356)]).then(o.bind(null,"jErU"))},data:function(){return{folders:[],myforms:[],selectedFolder:null,leftMenuOpen:!1,forms:[],actions:{archive:!0,trash:!0,edit:!0,opened:!0,duplicate:!0,responses:!0,share:!0,enable:!0,removeFromFolder:!1,moveTo:!0},bulkActions:{archive:!0,trash:!0,moveTo:!0,disable:!0,enable:!0,markasread:!0},archiveTrashCount:{},showIntegrationPopup:!1,showCategoryForm:!!this.$route.query.purpose}},beforeCreate:function(){u.default.removeCss()},mounted:(le=n()((function*(){var e=this;this.getTrashAndArchiveCount(),c.checkStatus(e=>{if(e.hasNewVersion){var t=Number(p.a.getItem("retryUpdateCount"));Number(t)>1?this.$root.stripes.push({text:this.$t("updateWarningStripe.text"),bgColor:this.$theme.green,buttonText:this.$t("updateWarningStripe.buttonText"),buttonCallback:function(){location.reload(!0)}}):(location.reload(!0),t++,p.a.setItem("retryUpdateCount",t))}else p.a.getItem("retryUpdateCount")&&p.a.removeItem("retryUpdateCount")}),this.$auth.isAuthenticated()&&!p.a.getItem("oneSignalID")&&u.default.getOneSignal(e=>{e&&(u.default.setDeviceForOneSignal(!0),e.on("subscriptionChange",(function(e){e&&u.default.setDeviceForOneSignal()})))}),this.$refs.container&&this.$refs.container.setLoadingStatus&&this.$refs.container.setLoadingStatus(!0),pe=0,this.$addEventListener("folders",function(){var t=n()((function*(t){e.folders.push(...t),pe++,yield e.selectFolder()}));return function(e){return t.apply(this,arguments)}}()),this.$addEventListener("myforms",function(){var t=n()((function*(t){e.myforms=t,e.selectedFolder||(e.forms=t),pe++,yield e.selectFolder()}));return function(e){return t.apply(this,arguments)}}()),this.$addEventListener("appendMyForms",e=>{a.a.getUnreadsAnswerCountReportViewQuotaUsagesByFormId(e._id,t=>{t&&t.data&&(this.$set(e,"unreadCount",t.data.uc),this.$set(e,"answerCount",t.data.ac),this.$set(e,"viewCount",t.data.vc)),this.myforms.push(e),this.myforms=this.myforms.sort((e,t)=>new Date(t.createDate)-new Date(e.createDate))})}),this.$addEventListener("splicedMyForms",e=>{var t=this.myforms.findIndex(t=>t._id===e._id);t>-1&&this.myforms.splice(t,1)}),this.$addEventListener("clickMenu",()=>{this.openLeftMenu()}),this.$root.setUser(function(){var t=n()((function*(t){te.a.show(t.info),t.info.moreInfo&&null===t.info.moreInfo.sector&&(e.showCategoryForm=!0)}));return function(e){return t.apply(this,arguments)}}())})),function(){return le.apply(this,arguments)}),destroyed:function(){te.a.destroy()},methods:{deleteFolder:function(e){if(this.folders){var t=this.folders.findIndex(t=>t._id===e);if(t>=0)this.folders[t].formIds=[],this.folders.splice(t,1)}},setLoadingStatus:function(e){this.$refs.container&&this.$refs.container.setLoadingStatus&&this.$refs.container.setLoadingStatus(e)},openLeftMenu:function(){this.leftMenuOpen=!0},selectFolder:(ae=n()((function*(){var e;if(!(pe<3))if(this.folders&&this.folders.length>0&&(e=this.folders.find(e=>e._id===this.$route.params.id))&&(ee.default.prototype.$routeParams={ownerId:e.ownerId,folderId:e._id}),this.$root.roleName=e&&e.role||"owner",this.selectedFolder!==e&&(this.selectedFolder=e,this.getForms()),this.$refs.container&&this.$refs.container.getForms&&this.$refs.container.getForms(),e&&e.ownerId&&e.ownerId!==this.$root.user._id){var t=yield oe.a.getOwnerInfo();t&&(this.$root.ownerInfo=t)}else this.$root.ownerInfo=this.$root.user.info})),function(){return ae.apply(this,arguments)}),getForms:(ie=n()((function*(){var e=this;this.setLoadingStatus(!0),this.$root.setUser(function(){var t=n()((function*(t){if(e.forms=[],e.selectedFolder)if(e.selectedFolder.ownerId===t._id){for(var o=0;o<e.myforms.length;o++){var r=e.myforms[o];r&&r.folderIds&&r.folderIds.indexOf(e.selectedFolder._id)>-1&&e.forms.push(r)}e.actions.moveTo=!0,e.actions.removeFromFolder=!1,e.actions.trash=!0,e.actions.archive=!0,e.bulkActions.moveTo=!0,e.bulkActions.trash=!0,e.bulkActions.archive=!0}else{var s=yield i.a.getFormsByFolder(e.selectedFolder.ownerId,e.selectedFolder._id);if(200===s.status||204===s.status){var n=s.data||[];n.sort((e,t)=>new Date(t.createDate)-new Date(e.createDate)),e.forms=n,e.actions.moveTo=!1,e.actions.removeFromFolder=!0,e.actions.trash=!1,e.actions.archive=!1,e.bulkActions.moveTo=!1,e.bulkActions.trash=!1,e.bulkActions.archive=!1}else e.$router.push("/myforms")}else e.forms=e.myforms,e.actions.moveTo=!0,e.actions.removeFromFolder=!1,e.actions.trash=!0,e.actions.archive=!0,e.bulkActions.moveTo=!0,e.bulkActions.trash=!0,e.bulkActions.archive=!0;e.$auth.isAuthenticated()?a.a.getUnreadsAnswerCountReportViewQuotaUsages(t=>{if(200===t.status){var o=t.data;if(o&&e.forms)for(var r,s=function(t){(r=o.find(o=>o.fId===e.forms[t]._id))&&(e.$set(e.forms[t],"unreadCount",r.uc),e.$set(e.forms[t],"answerCount",r.ac),e.$set(e.forms[t],"viewCount",r.vc))},n=0;n<e.forms.length;n++)s(n)}e.setLoadingStatus(!1)}):e.setLoadingStatus(!1),e.$route.query&&e.$route.query.provider&&(e.showIntegrationPopup=!0);var l=t._id||null;e.$eventTrigger.fireHotjarEvent("identify",l,{"Form Count":e.myforms.length})}));return function(e){return t.apply(this,arguments)}}())})),function(){return ie.apply(this,arguments)}),getTrashAndArchiveCount:(ne=n()((function*(){this.archiveTrashCount=yield F.a.getTrashAndArchiveCount()})),function(){return ne.apply(this,arguments)}),changeTrashOrArchiveCount:function(e,t){this.archiveTrashCount&&!isNaN(this.archiveTrashCount[t])&&Number(this.archiveTrashCount[t])>-1&&this.$set(this.archiveTrashCount,t,Number(this.archiveTrashCount[t])+e)},openAddFolderPopup:function(){this.$refs.dashboardLeftNavigation.openAddFolderPopup()}},watch:{$route:(se=n()((function*(){this.leftMenuOpen=!1,yield this.selectFolder()})),function(){return se.apply(this,arguments)})},computed:{withoutDashboardLeftNavigation(){return this.$route.meta.withoutDashboardLeftNavigation}}},he=(o("xcDy"),Object(w.a)(fe,r,[],!1,null,"759db1ea",null));t.default=he.exports},H2M8:function(e,t,o){var r=o("LboF"),s=o("A5BJ");"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1};r(s,n);e.exports=s.locals||{}},JNNY:function(e,t,o){"use strict";o("ejFa")},Limc:function(e,t,o){var r=o("LboF"),s=o("48Od");"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1};r(s,n);e.exports=s.locals||{}},NEnN:function(e,t,o){var r=o("LboF"),s=o("Skk1");"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1};r(s,n);e.exports=s.locals||{}},NT3d:function(e,t,o){var r=o("LboF"),s=o("qhB9");"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1};r(s,n);e.exports=s.locals||{}},QFUx:function(e,t,o){},Skk1:function(e,t,o){},TUU1:function(e,t,o){"use strict";o("zbc8")},ZnjY:function(e,t,o){"use strict";o("H2M8")},ejFa:function(e,t,o){var r=o("LboF"),s=o("QFUx");"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1};r(s,n);e.exports=s.locals||{}},ktO7:function(e,t,o){var r=o("LboF"),s=o("pr5k");"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1};r(s,n);e.exports=s.locals||{}},pr5k:function(e,t,o){},qVgV:function(e,t,o){},qhB9:function(e,t,o){},uMmX:function(e,t,o){"use strict";o("NEnN")},xcDy:function(e,t,o){"use strict";o("NT3d")},zbc8:function(e,t,o){var r=o("LboF"),s=o("qVgV");"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1};r(s,n);e.exports=s.locals||{}}}]);